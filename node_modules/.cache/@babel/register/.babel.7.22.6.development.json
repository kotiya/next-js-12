{"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/url-to-withrouter.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"\"use strict\";\n\n// One-time usage file. You can delete me after running the codemod!\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction addWithRouterImport(j, root) {\n  // We create an import specifier, this is the value of an import, eg:\n  // import {withRouter} from 'next/router\n  // The specifier would be `withRouter`\n  const withRouterSpecifier = j.importSpecifier(j.identifier('withRouter'));\n  // Check if this file is already import `next/router`\n  // so that we can just attach `withRouter` instead of creating a new `import` node\n  const originalRouterImport = root.find(j.ImportDeclaration, {\n    source: {\n      value: 'next/router'\n    }\n  });\n  if (originalRouterImport.length > 0) {\n    // Check if `withRouter` is already imported. In that case we don't have to do anything\n    if (originalRouterImport.find(j.ImportSpecifier, {\n      imported: {\n        name: 'withRouter'\n      }\n    }).length > 0) {\n      return;\n    }\n    // Attach `withRouter` to the existing `next/router` import node\n    originalRouterImport.forEach(node => {\n      node.value.specifiers.push(withRouterSpecifier);\n    });\n    return;\n  }\n  // Create import node\n  // import {withRouter} from 'next/router'\n  const withRouterImport = j.importDeclaration([withRouterSpecifier], j.stringLiteral('next/router'));\n  // Find the Program, this is the top level AST node\n  const Program = root.find(j.Program);\n  // Attach the import at the top of the body\n  Program.forEach(node => {\n    node.value.body.unshift(withRouterImport);\n  });\n}\nfunction getThisPropsUrlNodes(j, tree) {\n  return tree.find(j.MemberExpression, {\n    object: {\n      type: 'MemberExpression',\n      object: {\n        type: 'ThisExpression'\n      },\n      property: {\n        name: 'props'\n      }\n    },\n    property: {\n      name: 'url'\n    }\n  });\n}\nfunction getPropsUrlNodes(j, tree, name) {\n  return tree.find(j.MemberExpression, {\n    object: {\n      name\n    },\n    property: {\n      name: 'url'\n    }\n  });\n}\n// Wraps the provided node in a function call\n// For example if `functionName` is `withRouter` it will wrap the provided node in `withRouter(NODE_CONTENT)`\nfunction wrapNodeInFunction(j, functionName, args) {\n  const mappedArgs = args.map(node => {\n    // If the node is a ClassDeclaration we have to turn it into a ClassExpression\n    // since ClassDeclarations can't be wrapped in a function\n    if (node.type === 'ClassDeclaration') {\n      node.type = 'ClassExpression';\n    }\n    return node;\n  });\n  return j.callExpression(j.identifier(functionName), mappedArgs);\n}\nfunction turnUrlIntoRouter(j, tree) {\n  tree.find(j.Identifier, {\n    name: 'url'\n  }).replaceWith(j.identifier('router'));\n}\nfunction transformer(file, api) {\n  // j is just a shorthand for the jscodeshift api\n  const j = api.jscodeshift;\n  // this is the AST root on which we can call methods like `.find`\n  const root = j(file.source);\n  // We search for `export default`\n  const defaultExports = root.find(j.ExportDefaultDeclaration);\n  // We loop over the `export default` instances\n  // This is just how jscodeshift works, there can only be one export default instance\n  defaultExports.forEach(rule => {\n    // rule.value is an AST node\n    const {\n      value: node\n    } = rule;\n    // declaration holds the AST node for what comes after `export default`\n    const {\n      declaration\n    } = node;\n    function wrapDefaultExportInWithRouter() {\n      if (j(rule).find(j.CallExpression, {\n        callee: {\n          name: 'withRouter'\n        }\n      }).length > 0) {\n        return;\n      }\n      j(rule).replaceWith(j.exportDefaultDeclaration(wrapNodeInFunction(j, 'withRouter', [declaration])));\n    }\n    // The `Identifier` type is given in this case:\n    // export default Test\n    // where `Test` is the identifier\n    if (declaration.type === 'Identifier') {\n      // the variable name\n      const {\n        name\n      } = declaration;\n      // find the implementation of the variable, can be a class, function, etc\n      let implementation = root.find(j.Declaration, {\n        id: {\n          name\n        }\n      });\n      if (implementation.length === 0) {\n        implementation = root.find(j.VariableDeclarator, {\n          id: {\n            name\n          }\n        });\n      }\n      implementation.find(j.Property, {\n        key: {\n          name: 'url'\n        }\n      }).forEach(propertyRule => {\n        const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n          init: {\n            object: {\n              type: 'ThisExpression'\n            },\n            property: {\n              name: 'props'\n            }\n          }\n        });\n        if (isThisPropsDestructure.length === 0) {\n          return;\n        }\n        const originalKeyValue = propertyRule.value.value.name;\n        propertyRule.value.key.name = 'router';\n        wrapDefaultExportInWithRouter();\n        addWithRouterImport(j, root);\n        // If the property is reassigned to another variable we don't have to transform it\n        if (originalKeyValue !== 'url') {\n          return;\n        }\n        propertyRule.value.value.name = 'router';\n        j(propertyRule).closest(j.BlockStatement).find(j.Identifier, identifierNode => {\n          if (identifierNode.type === 'JSXIdentifier') {\n            return false;\n          }\n          if (identifierNode.name !== 'url') {\n            return false;\n          }\n          return true;\n        }).replaceWith(j.identifier('router'));\n      });\n      // Find usage of `this.props.url`\n      const thisPropsUrlUsage = getThisPropsUrlNodes(j, implementation);\n      if (thisPropsUrlUsage.length === 0) {\n        return;\n      }\n      // rename `url` to `router`\n      turnUrlIntoRouter(j, thisPropsUrlUsage);\n      wrapDefaultExportInWithRouter();\n      addWithRouterImport(j, root);\n      return;\n    }\n    const arrowFunctions = j(rule).find(j.ArrowFunctionExpression);\n    (() => {\n      if (arrowFunctions.length === 0) {\n        return;\n      }\n      arrowFunctions.forEach(r => {\n        // This makes sure we don't match nested functions, only the top one\n        if (j(r).closest(j.Expression).length !== 0) {\n          return;\n        }\n        if (!r.value.params || !r.value.params[0]) {\n          return;\n        }\n        const name = r.value.params[0].name;\n        const propsUrlUsage = getPropsUrlNodes(j, j(r), name);\n        if (propsUrlUsage.length === 0) {\n          return;\n        }\n        turnUrlIntoRouter(j, propsUrlUsage);\n        wrapDefaultExportInWithRouter();\n        addWithRouterImport(j, root);\n      });\n      return;\n    })();\n    if (declaration.type === 'CallExpression') {\n      j(rule).find(j.CallExpression, haystack => {\n        const firstArgument = haystack.arguments[0] || {};\n        if (firstArgument.type === 'Identifier') {\n          return true;\n        }\n        return false;\n      }).forEach(callRule => {\n        const {\n          name\n        } = callRule.value.arguments[0];\n        // find the implementation of the variable, can be a class, function, etc\n        let implementation = root.find(j.Declaration, {\n          id: {\n            name\n          }\n        });\n        if (implementation.length === 0) {\n          implementation = root.find(j.VariableDeclarator, {\n            id: {\n              name\n            }\n          });\n        }\n        // Find usage of `this.props.url`\n        const thisPropsUrlUsage = getThisPropsUrlNodes(j, implementation);\n        implementation.find(j.Property, {\n          key: {\n            name: 'url'\n          }\n        }).forEach(propertyRule => {\n          const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n            init: {\n              object: {\n                type: 'ThisExpression'\n              },\n              property: {\n                name: 'props'\n              }\n            }\n          });\n          if (isThisPropsDestructure.length === 0) {\n            return;\n          }\n          const originalKeyValue = propertyRule.value.value.name;\n          propertyRule.value.key.name = 'router';\n          wrapDefaultExportInWithRouter();\n          addWithRouterImport(j, root);\n          // If the property is reassigned to another variable we don't have to transform it\n          if (originalKeyValue !== 'url') {\n            return;\n          }\n          propertyRule.value.value.name = 'router';\n          j(propertyRule).closest(j.BlockStatement).find(j.Identifier, identifierNode => {\n            if (identifierNode.type === 'JSXIdentifier') {\n              return false;\n            }\n            if (identifierNode.name !== 'url') {\n              return false;\n            }\n            return true;\n          }).replaceWith(j.identifier('router'));\n        });\n        if (thisPropsUrlUsage.length === 0) {\n          return;\n        }\n        // rename `url` to `router`\n        turnUrlIntoRouter(j, thisPropsUrlUsage);\n        wrapDefaultExportInWithRouter();\n        addWithRouterImport(j, root);\n        return;\n      });\n    }\n    j(rule).find(j.Property, {\n      key: {\n        name: 'url'\n      }\n    }).forEach(propertyRule => {\n      const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n        init: {\n          object: {\n            type: 'ThisExpression'\n          },\n          property: {\n            name: 'props'\n          }\n        }\n      });\n      if (isThisPropsDestructure.length === 0) {\n        return;\n      }\n      const originalKeyValue = propertyRule.value.value.name;\n      propertyRule.value.key.name = 'router';\n      wrapDefaultExportInWithRouter();\n      addWithRouterImport(j, root);\n      // If the property is reassigned to another variable we don't have to transform it\n      if (originalKeyValue !== 'url') {\n        return;\n      }\n      propertyRule.value.value.name = 'router';\n      j(propertyRule).closest(j.BlockStatement).find(j.Identifier, identifierNode => {\n        if (identifierNode.type === 'JSXIdentifier') {\n          return false;\n        }\n        if (identifierNode.name !== 'url') {\n          return false;\n        }\n        return true;\n      }).replaceWith(j.identifier('router'));\n    });\n    j(rule).find(j.MethodDefinition, {\n      key: {\n        name: 'componentWillReceiveProps'\n      }\n    }).forEach(methodRule => {\n      const func = methodRule.value.value;\n      if (!func.params[0]) {\n        return;\n      }\n      const firstArgumentName = func.params[0].name;\n      const propsUrlUsage = getPropsUrlNodes(j, j(methodRule), firstArgumentName);\n      turnUrlIntoRouter(j, propsUrlUsage);\n      if (propsUrlUsage.length === 0) {\n        return;\n      }\n      wrapDefaultExportInWithRouter();\n      addWithRouterImport(j, root);\n    });\n    j(rule).find(j.MethodDefinition, {\n      key: {\n        name: 'componentDidUpdate'\n      }\n    }).forEach(methodRule => {\n      const func = methodRule.value.value;\n      if (!func.params[0]) {\n        return;\n      }\n      const firstArgumentName = func.params[0].name;\n      const propsUrlUsage = getPropsUrlNodes(j, j(methodRule), firstArgumentName);\n      turnUrlIntoRouter(j, propsUrlUsage);\n      if (propsUrlUsage.length === 0) {\n        return;\n      }\n      wrapDefaultExportInWithRouter();\n      addWithRouterImport(j, root);\n    });\n    const thisPropsUrlUsage = getThisPropsUrlNodes(j, j(rule));\n    const propsUrlUsage = getPropsUrlNodes(j, j(rule), 'props');\n    // rename `url` to `router`\n    turnUrlIntoRouter(j, thisPropsUrlUsage);\n    turnUrlIntoRouter(j, propsUrlUsage);\n    if (thisPropsUrlUsage.length === 0 && propsUrlUsage.length === 0) {\n      return;\n    }\n    wrapDefaultExportInWithRouter();\n    addWithRouterImport(j, root);\n    return;\n  });\n  return root.toSource();\n}\nexports.default = transformer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkZFdpdGhSb3V0ZXJJbXBvcnQiLCJqIiwicm9vdCIsIndpdGhSb3V0ZXJTcGVjaWZpZXIiLCJpbXBvcnRTcGVjaWZpZXIiLCJpZGVudGlmaWVyIiwib3JpZ2luYWxSb3V0ZXJJbXBvcnQiLCJmaW5kIiwiSW1wb3J0RGVjbGFyYXRpb24iLCJzb3VyY2UiLCJsZW5ndGgiLCJJbXBvcnRTcGVjaWZpZXIiLCJpbXBvcnRlZCIsIm5hbWUiLCJmb3JFYWNoIiwibm9kZSIsInNwZWNpZmllcnMiLCJwdXNoIiwid2l0aFJvdXRlckltcG9ydCIsImltcG9ydERlY2xhcmF0aW9uIiwic3RyaW5nTGl0ZXJhbCIsIlByb2dyYW0iLCJib2R5IiwidW5zaGlmdCIsImdldFRoaXNQcm9wc1VybE5vZGVzIiwidHJlZSIsIk1lbWJlckV4cHJlc3Npb24iLCJvYmplY3QiLCJ0eXBlIiwicHJvcGVydHkiLCJnZXRQcm9wc1VybE5vZGVzIiwid3JhcE5vZGVJbkZ1bmN0aW9uIiwiZnVuY3Rpb25OYW1lIiwiYXJncyIsIm1hcHBlZEFyZ3MiLCJtYXAiLCJjYWxsRXhwcmVzc2lvbiIsInR1cm5VcmxJbnRvUm91dGVyIiwiSWRlbnRpZmllciIsInJlcGxhY2VXaXRoIiwidHJhbnNmb3JtZXIiLCJmaWxlIiwiYXBpIiwianNjb2Rlc2hpZnQiLCJkZWZhdWx0RXhwb3J0cyIsIkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbiIsInJ1bGUiLCJkZWNsYXJhdGlvbiIsIndyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyIiwiQ2FsbEV4cHJlc3Npb24iLCJjYWxsZWUiLCJleHBvcnREZWZhdWx0RGVjbGFyYXRpb24iLCJpbXBsZW1lbnRhdGlvbiIsIkRlY2xhcmF0aW9uIiwiaWQiLCJWYXJpYWJsZURlY2xhcmF0b3IiLCJQcm9wZXJ0eSIsImtleSIsInByb3BlcnR5UnVsZSIsImlzVGhpc1Byb3BzRGVzdHJ1Y3R1cmUiLCJjbG9zZXN0IiwiaW5pdCIsIm9yaWdpbmFsS2V5VmFsdWUiLCJCbG9ja1N0YXRlbWVudCIsImlkZW50aWZpZXJOb2RlIiwidGhpc1Byb3BzVXJsVXNhZ2UiLCJhcnJvd0Z1bmN0aW9ucyIsIkFycm93RnVuY3Rpb25FeHByZXNzaW9uIiwiciIsIkV4cHJlc3Npb24iLCJwYXJhbXMiLCJwcm9wc1VybFVzYWdlIiwiaGF5c3RhY2siLCJmaXJzdEFyZ3VtZW50IiwiYXJndW1lbnRzIiwiY2FsbFJ1bGUiLCJNZXRob2REZWZpbml0aW9uIiwibWV0aG9kUnVsZSIsImZ1bmMiLCJmaXJzdEFyZ3VtZW50TmFtZSIsInRvU291cmNlIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3dlaXJhbmxpLy5ucG0vX25weC9hMGRjNzQ2NWFlZmI1NGY5L25vZGVfbW9kdWxlcy9AbmV4dC9jb2RlbW9kL3RyYW5zZm9ybXMvIiwic291cmNlcyI6WyJ1cmwtdG8td2l0aHJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIE9uZS10aW1lIHVzYWdlIGZpbGUuIFlvdSBjYW4gZGVsZXRlIG1lIGFmdGVyIHJ1bm5pbmcgdGhlIGNvZGVtb2QhXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBhZGRXaXRoUm91dGVySW1wb3J0KGosIHJvb3QpIHtcbiAgICAvLyBXZSBjcmVhdGUgYW4gaW1wb3J0IHNwZWNpZmllciwgdGhpcyBpcyB0aGUgdmFsdWUgb2YgYW4gaW1wb3J0LCBlZzpcbiAgICAvLyBpbXBvcnQge3dpdGhSb3V0ZXJ9IGZyb20gJ25leHQvcm91dGVyXG4gICAgLy8gVGhlIHNwZWNpZmllciB3b3VsZCBiZSBgd2l0aFJvdXRlcmBcbiAgICBjb25zdCB3aXRoUm91dGVyU3BlY2lmaWVyID0gai5pbXBvcnRTcGVjaWZpZXIoai5pZGVudGlmaWVyKCd3aXRoUm91dGVyJykpO1xuICAgIC8vIENoZWNrIGlmIHRoaXMgZmlsZSBpcyBhbHJlYWR5IGltcG9ydCBgbmV4dC9yb3V0ZXJgXG4gICAgLy8gc28gdGhhdCB3ZSBjYW4ganVzdCBhdHRhY2ggYHdpdGhSb3V0ZXJgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgYGltcG9ydGAgbm9kZVxuICAgIGNvbnN0IG9yaWdpbmFsUm91dGVySW1wb3J0ID0gcm9vdC5maW5kKGouSW1wb3J0RGVjbGFyYXRpb24sIHtcbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ25leHQvcm91dGVyJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAob3JpZ2luYWxSb3V0ZXJJbXBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBDaGVjayBpZiBgd2l0aFJvdXRlcmAgaXMgYWxyZWFkeSBpbXBvcnRlZC4gSW4gdGhhdCBjYXNlIHdlIGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKG9yaWdpbmFsUm91dGVySW1wb3J0LmZpbmQoai5JbXBvcnRTcGVjaWZpZXIsIHtcbiAgICAgICAgICAgIGltcG9ydGVkOiB7IG5hbWU6ICd3aXRoUm91dGVyJyB9LFxuICAgICAgICB9KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIGB3aXRoUm91dGVyYCB0byB0aGUgZXhpc3RpbmcgYG5leHQvcm91dGVyYCBpbXBvcnQgbm9kZVxuICAgICAgICBvcmlnaW5hbFJvdXRlckltcG9ydC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2RlLnZhbHVlLnNwZWNpZmllcnMucHVzaCh3aXRoUm91dGVyU3BlY2lmaWVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIGltcG9ydCBub2RlXG4gICAgLy8gaW1wb3J0IHt3aXRoUm91dGVyfSBmcm9tICduZXh0L3JvdXRlcidcbiAgICBjb25zdCB3aXRoUm91dGVySW1wb3J0ID0gai5pbXBvcnREZWNsYXJhdGlvbihbd2l0aFJvdXRlclNwZWNpZmllcl0sIGouc3RyaW5nTGl0ZXJhbCgnbmV4dC9yb3V0ZXInKSk7XG4gICAgLy8gRmluZCB0aGUgUHJvZ3JhbSwgdGhpcyBpcyB0aGUgdG9wIGxldmVsIEFTVCBub2RlXG4gICAgY29uc3QgUHJvZ3JhbSA9IHJvb3QuZmluZChqLlByb2dyYW0pO1xuICAgIC8vIEF0dGFjaCB0aGUgaW1wb3J0IGF0IHRoZSB0b3Agb2YgdGhlIGJvZHlcbiAgICBQcm9ncmFtLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgbm9kZS52YWx1ZS5ib2R5LnVuc2hpZnQod2l0aFJvdXRlckltcG9ydCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRUaGlzUHJvcHNVcmxOb2RlcyhqLCB0cmVlKSB7XG4gICAgcmV0dXJuIHRyZWUuZmluZChqLk1lbWJlckV4cHJlc3Npb24sIHtcbiAgICAgICAgb2JqZWN0OiB7XG4gICAgICAgICAgICB0eXBlOiAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgICAgICAgICBvYmplY3Q6IHsgdHlwZTogJ1RoaXNFeHByZXNzaW9uJyB9LFxuICAgICAgICAgICAgcHJvcGVydHk6IHsgbmFtZTogJ3Byb3BzJyB9LFxuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0eTogeyBuYW1lOiAndXJsJyB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0UHJvcHNVcmxOb2RlcyhqLCB0cmVlLCBuYW1lKSB7XG4gICAgcmV0dXJuIHRyZWUuZmluZChqLk1lbWJlckV4cHJlc3Npb24sIHtcbiAgICAgICAgb2JqZWN0OiB7IG5hbWUgfSxcbiAgICAgICAgcHJvcGVydHk6IHsgbmFtZTogJ3VybCcgfSxcbiAgICB9KTtcbn1cbi8vIFdyYXBzIHRoZSBwcm92aWRlZCBub2RlIGluIGEgZnVuY3Rpb24gY2FsbFxuLy8gRm9yIGV4YW1wbGUgaWYgYGZ1bmN0aW9uTmFtZWAgaXMgYHdpdGhSb3V0ZXJgIGl0IHdpbGwgd3JhcCB0aGUgcHJvdmlkZWQgbm9kZSBpbiBgd2l0aFJvdXRlcihOT0RFX0NPTlRFTlQpYFxuZnVuY3Rpb24gd3JhcE5vZGVJbkZ1bmN0aW9uKGosIGZ1bmN0aW9uTmFtZSwgYXJncykge1xuICAgIGNvbnN0IG1hcHBlZEFyZ3MgPSBhcmdzLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBhIENsYXNzRGVjbGFyYXRpb24gd2UgaGF2ZSB0byB0dXJuIGl0IGludG8gYSBDbGFzc0V4cHJlc3Npb25cbiAgICAgICAgLy8gc2luY2UgQ2xhc3NEZWNsYXJhdGlvbnMgY2FuJ3QgYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uXG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdDbGFzc0RlY2xhcmF0aW9uJykge1xuICAgICAgICAgICAgbm9kZS50eXBlID0gJ0NsYXNzRXhwcmVzc2lvbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGouY2FsbEV4cHJlc3Npb24oai5pZGVudGlmaWVyKGZ1bmN0aW9uTmFtZSksIG1hcHBlZEFyZ3MpO1xufVxuZnVuY3Rpb24gdHVyblVybEludG9Sb3V0ZXIoaiwgdHJlZSkge1xuICAgIHRyZWUuZmluZChqLklkZW50aWZpZXIsIHsgbmFtZTogJ3VybCcgfSkucmVwbGFjZVdpdGgoai5pZGVudGlmaWVyKCdyb3V0ZXInKSk7XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1lcihmaWxlLCBhcGkpIHtcbiAgICAvLyBqIGlzIGp1c3QgYSBzaG9ydGhhbmQgZm9yIHRoZSBqc2NvZGVzaGlmdCBhcGlcbiAgICBjb25zdCBqID0gYXBpLmpzY29kZXNoaWZ0O1xuICAgIC8vIHRoaXMgaXMgdGhlIEFTVCByb290IG9uIHdoaWNoIHdlIGNhbiBjYWxsIG1ldGhvZHMgbGlrZSBgLmZpbmRgXG4gICAgY29uc3Qgcm9vdCA9IGooZmlsZS5zb3VyY2UpO1xuICAgIC8vIFdlIHNlYXJjaCBmb3IgYGV4cG9ydCBkZWZhdWx0YFxuICAgIGNvbnN0IGRlZmF1bHRFeHBvcnRzID0gcm9vdC5maW5kKGouRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uKTtcbiAgICAvLyBXZSBsb29wIG92ZXIgdGhlIGBleHBvcnQgZGVmYXVsdGAgaW5zdGFuY2VzXG4gICAgLy8gVGhpcyBpcyBqdXN0IGhvdyBqc2NvZGVzaGlmdCB3b3JrcywgdGhlcmUgY2FuIG9ubHkgYmUgb25lIGV4cG9ydCBkZWZhdWx0IGluc3RhbmNlXG4gICAgZGVmYXVsdEV4cG9ydHMuZm9yRWFjaCgocnVsZSkgPT4ge1xuICAgICAgICAvLyBydWxlLnZhbHVlIGlzIGFuIEFTVCBub2RlXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IG5vZGUgfSA9IHJ1bGU7XG4gICAgICAgIC8vIGRlY2xhcmF0aW9uIGhvbGRzIHRoZSBBU1Qgbm9kZSBmb3Igd2hhdCBjb21lcyBhZnRlciBgZXhwb3J0IGRlZmF1bHRgXG4gICAgICAgIGNvbnN0IHsgZGVjbGFyYXRpb24gfSA9IG5vZGU7XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCkge1xuICAgICAgICAgICAgaWYgKGoocnVsZSkuZmluZChqLkNhbGxFeHByZXNzaW9uLCB7IGNhbGxlZTogeyBuYW1lOiAnd2l0aFJvdXRlcicgfSB9KVxuICAgICAgICAgICAgICAgIC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaihydWxlKS5yZXBsYWNlV2l0aChqLmV4cG9ydERlZmF1bHREZWNsYXJhdGlvbih3cmFwTm9kZUluRnVuY3Rpb24oaiwgJ3dpdGhSb3V0ZXInLCBbZGVjbGFyYXRpb25dKSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBgSWRlbnRpZmllcmAgdHlwZSBpcyBnaXZlbiBpbiB0aGlzIGNhc2U6XG4gICAgICAgIC8vIGV4cG9ydCBkZWZhdWx0IFRlc3RcbiAgICAgICAgLy8gd2hlcmUgYFRlc3RgIGlzIHRoZSBpZGVudGlmaWVyXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbi50eXBlID09PSAnSWRlbnRpZmllcicpIHtcbiAgICAgICAgICAgIC8vIHRoZSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGRlY2xhcmF0aW9uO1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIHZhcmlhYmxlLCBjYW4gYmUgYSBjbGFzcywgZnVuY3Rpb24sIGV0Y1xuICAgICAgICAgICAgbGV0IGltcGxlbWVudGF0aW9uID0gcm9vdC5maW5kKGouRGVjbGFyYXRpb24sIHsgaWQ6IHsgbmFtZSB9IH0pO1xuICAgICAgICAgICAgaWYgKGltcGxlbWVudGF0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uID0gcm9vdC5maW5kKGouVmFyaWFibGVEZWNsYXJhdG9yLCB7IGlkOiB7IG5hbWUgfSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgLmZpbmQoai5Qcm9wZXJ0eSwgeyBrZXk6IHsgbmFtZTogJ3VybCcgfSB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChwcm9wZXJ0eVJ1bGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1RoaXNQcm9wc0Rlc3RydWN0dXJlID0gaihwcm9wZXJ0eVJ1bGUpLmNsb3Nlc3Qoai5WYXJpYWJsZURlY2xhcmF0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1RoaXNFeHByZXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogeyBuYW1lOiAncHJvcHMnIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGhpc1Byb3BzRGVzdHJ1Y3R1cmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxLZXlWYWx1ZSA9IHByb3BlcnR5UnVsZS52YWx1ZS52YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5UnVsZS52YWx1ZS5rZXkubmFtZSA9ICdyb3V0ZXInO1xuICAgICAgICAgICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgICAgICAgICAgYWRkV2l0aFJvdXRlckltcG9ydChqLCByb290KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgaXMgcmVhc3NpZ25lZCB0byBhbm90aGVyIHZhcmlhYmxlIHdlIGRvbid0IGhhdmUgdG8gdHJhbnNmb3JtIGl0XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsS2V5VmFsdWUgIT09ICd1cmwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvcGVydHlSdWxlLnZhbHVlLnZhbHVlLm5hbWUgPSAncm91dGVyJztcbiAgICAgICAgICAgICAgICBqKHByb3BlcnR5UnVsZSlcbiAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3Qoai5CbG9ja1N0YXRlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoai5JZGVudGlmaWVyLCAoaWRlbnRpZmllck5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aWZpZXJOb2RlLnR5cGUgPT09ICdKU1hJZGVudGlmaWVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGVudGlmaWVyTm9kZS5uYW1lICE9PSAndXJsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlV2l0aChqLmlkZW50aWZpZXIoJ3JvdXRlcicpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gRmluZCB1c2FnZSBvZiBgdGhpcy5wcm9wcy51cmxgXG4gICAgICAgICAgICBjb25zdCB0aGlzUHJvcHNVcmxVc2FnZSA9IGdldFRoaXNQcm9wc1VybE5vZGVzKGosIGltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzUHJvcHNVcmxVc2FnZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW5hbWUgYHVybGAgdG8gYHJvdXRlcmBcbiAgICAgICAgICAgIHR1cm5VcmxJbnRvUm91dGVyKGosIHRoaXNQcm9wc1VybFVzYWdlKTtcbiAgICAgICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgICAgICBhZGRXaXRoUm91dGVySW1wb3J0KGosIHJvb3QpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFycm93RnVuY3Rpb25zID0gaihydWxlKS5maW5kKGouQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24pO1xuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFycm93RnVuY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycm93RnVuY3Rpb25zLmZvckVhY2goKHIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1ha2VzIHN1cmUgd2UgZG9uJ3QgbWF0Y2ggbmVzdGVkIGZ1bmN0aW9ucywgb25seSB0aGUgdG9wIG9uZVxuICAgICAgICAgICAgICAgIGlmIChqKHIpLmNsb3Nlc3Qoai5FeHByZXNzaW9uKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXIudmFsdWUucGFyYW1zIHx8ICFyLnZhbHVlLnBhcmFtc1swXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSByLnZhbHVlLnBhcmFtc1swXS5uYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVXJsVXNhZ2UgPSBnZXRQcm9wc1VybE5vZGVzKGosIGoociksIG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wc1VybFVzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR1cm5VcmxJbnRvUm91dGVyKGosIHByb3BzVXJsVXNhZ2UpO1xuICAgICAgICAgICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgICAgICAgICAgYWRkV2l0aFJvdXRlckltcG9ydChqLCByb290KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KSgpO1xuICAgICAgICBpZiAoZGVjbGFyYXRpb24udHlwZSA9PT0gJ0NhbGxFeHByZXNzaW9uJykge1xuICAgICAgICAgICAgaihydWxlKVxuICAgICAgICAgICAgICAgIC5maW5kKGouQ2FsbEV4cHJlc3Npb24sIChoYXlzdGFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QXJndW1lbnQgPSBoYXlzdGFjay5hcmd1bWVudHNbMF0gfHwge307XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0QXJndW1lbnQudHlwZSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChjYWxsUnVsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY2FsbFJ1bGUudmFsdWUuYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSB2YXJpYWJsZSwgY2FuIGJlIGEgY2xhc3MsIGZ1bmN0aW9uLCBldGNcbiAgICAgICAgICAgICAgICBsZXQgaW1wbGVtZW50YXRpb24gPSByb290LmZpbmQoai5EZWNsYXJhdGlvbiwgeyBpZDogeyBuYW1lIH0gfSk7XG4gICAgICAgICAgICAgICAgaWYgKGltcGxlbWVudGF0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiA9IHJvb3QuZmluZChqLlZhcmlhYmxlRGVjbGFyYXRvciwgeyBpZDogeyBuYW1lIH0gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZpbmQgdXNhZ2Ugb2YgYHRoaXMucHJvcHMudXJsYFxuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNQcm9wc1VybFVzYWdlID0gZ2V0VGhpc1Byb3BzVXJsTm9kZXMoaiwgaW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKGouUHJvcGVydHksIHsga2V5OiB7IG5hbWU6ICd1cmwnIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKHByb3BlcnR5UnVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1RoaXNQcm9wc0Rlc3RydWN0dXJlID0gaihwcm9wZXJ0eVJ1bGUpLmNsb3Nlc3Qoai5WYXJpYWJsZURlY2xhcmF0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1RoaXNFeHByZXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiB7IG5hbWU6ICdwcm9wcycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaGlzUHJvcHNEZXN0cnVjdHVyZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEtleVZhbHVlID0gcHJvcGVydHlSdWxlLnZhbHVlLnZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5UnVsZS52YWx1ZS5rZXkubmFtZSA9ICdyb3V0ZXInO1xuICAgICAgICAgICAgICAgICAgICB3cmFwRGVmYXVsdEV4cG9ydEluV2l0aFJvdXRlcigpO1xuICAgICAgICAgICAgICAgICAgICBhZGRXaXRoUm91dGVySW1wb3J0KGosIHJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgaXMgcmVhc3NpZ25lZCB0byBhbm90aGVyIHZhcmlhYmxlIHdlIGRvbid0IGhhdmUgdG8gdHJhbnNmb3JtIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEtleVZhbHVlICE9PSAndXJsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5UnVsZS52YWx1ZS52YWx1ZS5uYW1lID0gJ3JvdXRlcic7XG4gICAgICAgICAgICAgICAgICAgIGoocHJvcGVydHlSdWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3Qoai5CbG9ja1N0YXRlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGouSWRlbnRpZmllciwgKGlkZW50aWZpZXJOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRlbnRpZmllck5vZGUudHlwZSA9PT0gJ0pTWElkZW50aWZpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aWZpZXJOb2RlLm5hbWUgIT09ICd1cmwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZVdpdGgoai5pZGVudGlmaWVyKCdyb3V0ZXInKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNQcm9wc1VybFVzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlbmFtZSBgdXJsYCB0byBgcm91dGVyYFxuICAgICAgICAgICAgICAgIHR1cm5VcmxJbnRvUm91dGVyKGosIHRoaXNQcm9wc1VybFVzYWdlKTtcbiAgICAgICAgICAgICAgICB3cmFwRGVmYXVsdEV4cG9ydEluV2l0aFJvdXRlcigpO1xuICAgICAgICAgICAgICAgIGFkZFdpdGhSb3V0ZXJJbXBvcnQoaiwgcm9vdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaihydWxlKVxuICAgICAgICAgICAgLmZpbmQoai5Qcm9wZXJ0eSwgeyBrZXk6IHsgbmFtZTogJ3VybCcgfSB9KVxuICAgICAgICAgICAgLmZvckVhY2goKHByb3BlcnR5UnVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNUaGlzUHJvcHNEZXN0cnVjdHVyZSA9IGoocHJvcGVydHlSdWxlKS5jbG9zZXN0KGouVmFyaWFibGVEZWNsYXJhdG9yLCB7XG4gICAgICAgICAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdUaGlzRXhwcmVzc2lvbicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiB7IG5hbWU6ICdwcm9wcycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNUaGlzUHJvcHNEZXN0cnVjdHVyZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEtleVZhbHVlID0gcHJvcGVydHlSdWxlLnZhbHVlLnZhbHVlLm5hbWU7XG4gICAgICAgICAgICBwcm9wZXJ0eVJ1bGUudmFsdWUua2V5Lm5hbWUgPSAncm91dGVyJztcbiAgICAgICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgICAgICBhZGRXaXRoUm91dGVySW1wb3J0KGosIHJvb3QpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIHJlYXNzaWduZWQgdG8gYW5vdGhlciB2YXJpYWJsZSB3ZSBkb24ndCBoYXZlIHRvIHRyYW5zZm9ybSBpdFxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsS2V5VmFsdWUgIT09ICd1cmwnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcGVydHlSdWxlLnZhbHVlLnZhbHVlLm5hbWUgPSAncm91dGVyJztcbiAgICAgICAgICAgIGoocHJvcGVydHlSdWxlKVxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KGouQmxvY2tTdGF0ZW1lbnQpXG4gICAgICAgICAgICAgICAgLmZpbmQoai5JZGVudGlmaWVyLCAoaWRlbnRpZmllck5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaWRlbnRpZmllck5vZGUudHlwZSA9PT0gJ0pTWElkZW50aWZpZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlkZW50aWZpZXJOb2RlLm5hbWUgIT09ICd1cmwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlV2l0aChqLmlkZW50aWZpZXIoJ3JvdXRlcicpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGoocnVsZSlcbiAgICAgICAgICAgIC5maW5kKGouTWV0aG9kRGVmaW5pdGlvbiwgeyBrZXk6IHsgbmFtZTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnIH0gfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChtZXRob2RSdWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmdW5jID0gbWV0aG9kUnVsZS52YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIGlmICghZnVuYy5wYXJhbXNbMF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFyZ3VtZW50TmFtZSA9IGZ1bmMucGFyYW1zWzBdLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBwcm9wc1VybFVzYWdlID0gZ2V0UHJvcHNVcmxOb2RlcyhqLCBqKG1ldGhvZFJ1bGUpLCBmaXJzdEFyZ3VtZW50TmFtZSk7XG4gICAgICAgICAgICB0dXJuVXJsSW50b1JvdXRlcihqLCBwcm9wc1VybFVzYWdlKTtcbiAgICAgICAgICAgIGlmIChwcm9wc1VybFVzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgICAgICBhZGRXaXRoUm91dGVySW1wb3J0KGosIHJvb3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgaihydWxlKVxuICAgICAgICAgICAgLmZpbmQoai5NZXRob2REZWZpbml0aW9uLCB7IGtleTogeyBuYW1lOiAnY29tcG9uZW50RGlkVXBkYXRlJyB9IH0pXG4gICAgICAgICAgICAuZm9yRWFjaCgobWV0aG9kUnVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZnVuYyA9IG1ldGhvZFJ1bGUudmFsdWUudmFsdWU7XG4gICAgICAgICAgICBpZiAoIWZ1bmMucGFyYW1zWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmlyc3RBcmd1bWVudE5hbWUgPSBmdW5jLnBhcmFtc1swXS5uYW1lO1xuICAgICAgICAgICAgY29uc3QgcHJvcHNVcmxVc2FnZSA9IGdldFByb3BzVXJsTm9kZXMoaiwgaihtZXRob2RSdWxlKSwgZmlyc3RBcmd1bWVudE5hbWUpO1xuICAgICAgICAgICAgdHVyblVybEludG9Sb3V0ZXIoaiwgcHJvcHNVcmxVc2FnZSk7XG4gICAgICAgICAgICBpZiAocHJvcHNVcmxVc2FnZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwRGVmYXVsdEV4cG9ydEluV2l0aFJvdXRlcigpO1xuICAgICAgICAgICAgYWRkV2l0aFJvdXRlckltcG9ydChqLCByb290KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRoaXNQcm9wc1VybFVzYWdlID0gZ2V0VGhpc1Byb3BzVXJsTm9kZXMoaiwgaihydWxlKSk7XG4gICAgICAgIGNvbnN0IHByb3BzVXJsVXNhZ2UgPSBnZXRQcm9wc1VybE5vZGVzKGosIGoocnVsZSksICdwcm9wcycpO1xuICAgICAgICAvLyByZW5hbWUgYHVybGAgdG8gYHJvdXRlcmBcbiAgICAgICAgdHVyblVybEludG9Sb3V0ZXIoaiwgdGhpc1Byb3BzVXJsVXNhZ2UpO1xuICAgICAgICB0dXJuVXJsSW50b1JvdXRlcihqLCBwcm9wc1VybFVzYWdlKTtcbiAgICAgICAgaWYgKHRoaXNQcm9wc1VybFVzYWdlLmxlbmd0aCA9PT0gMCAmJiBwcm9wc1VybFVzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBEZWZhdWx0RXhwb3J0SW5XaXRoUm91dGVyKCk7XG4gICAgICAgIGFkZFdpdGhSb3V0ZXJJbXBvcnQoaiwgcm9vdCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICByZXR1cm4gcm9vdC50b1NvdXJjZSgpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwtdG8td2l0aHJvdXRlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1o7QUFDQUEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7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","map":{"version":3,"names":["Object","defineProperty","exports","value","addWithRouterImport","j","root","withRouterSpecifier","importSpecifier","identifier","originalRouterImport","find","ImportDeclaration","source","length","ImportSpecifier","imported","name","forEach","node","specifiers","push","withRouterImport","importDeclaration","stringLiteral","Program","body","unshift","getThisPropsUrlNodes","tree","MemberExpression","object","type","property","getPropsUrlNodes","wrapNodeInFunction","functionName","args","mappedArgs","map","callExpression","turnUrlIntoRouter","Identifier","replaceWith","transformer","file","api","jscodeshift","defaultExports","ExportDefaultDeclaration","rule","declaration","wrapDefaultExportInWithRouter","CallExpression","callee","exportDefaultDeclaration","implementation","Declaration","id","VariableDeclarator","Property","key","propertyRule","isThisPropsDestructure","closest","init","originalKeyValue","BlockStatement","identifierNode","thisPropsUrlUsage","arrowFunctions","ArrowFunctionExpression","r","Expression","params","propsUrlUsage","haystack","firstArgument","arguments","callRule","MethodDefinition","methodRule","func","firstArgumentName","toSource","default"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/","sources":["url-to-withrouter.js"],"sourcesContent":["\"use strict\";\n// One-time usage file. You can delete me after running the codemod!\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addWithRouterImport(j, root) {\n    // We create an import specifier, this is the value of an import, eg:\n    // import {withRouter} from 'next/router\n    // The specifier would be `withRouter`\n    const withRouterSpecifier = j.importSpecifier(j.identifier('withRouter'));\n    // Check if this file is already import `next/router`\n    // so that we can just attach `withRouter` instead of creating a new `import` node\n    const originalRouterImport = root.find(j.ImportDeclaration, {\n        source: {\n            value: 'next/router',\n        },\n    });\n    if (originalRouterImport.length > 0) {\n        // Check if `withRouter` is already imported. In that case we don't have to do anything\n        if (originalRouterImport.find(j.ImportSpecifier, {\n            imported: { name: 'withRouter' },\n        }).length > 0) {\n            return;\n        }\n        // Attach `withRouter` to the existing `next/router` import node\n        originalRouterImport.forEach((node) => {\n            node.value.specifiers.push(withRouterSpecifier);\n        });\n        return;\n    }\n    // Create import node\n    // import {withRouter} from 'next/router'\n    const withRouterImport = j.importDeclaration([withRouterSpecifier], j.stringLiteral('next/router'));\n    // Find the Program, this is the top level AST node\n    const Program = root.find(j.Program);\n    // Attach the import at the top of the body\n    Program.forEach((node) => {\n        node.value.body.unshift(withRouterImport);\n    });\n}\nfunction getThisPropsUrlNodes(j, tree) {\n    return tree.find(j.MemberExpression, {\n        object: {\n            type: 'MemberExpression',\n            object: { type: 'ThisExpression' },\n            property: { name: 'props' },\n        },\n        property: { name: 'url' },\n    });\n}\nfunction getPropsUrlNodes(j, tree, name) {\n    return tree.find(j.MemberExpression, {\n        object: { name },\n        property: { name: 'url' },\n    });\n}\n// Wraps the provided node in a function call\n// For example if `functionName` is `withRouter` it will wrap the provided node in `withRouter(NODE_CONTENT)`\nfunction wrapNodeInFunction(j, functionName, args) {\n    const mappedArgs = args.map((node) => {\n        // If the node is a ClassDeclaration we have to turn it into a ClassExpression\n        // since ClassDeclarations can't be wrapped in a function\n        if (node.type === 'ClassDeclaration') {\n            node.type = 'ClassExpression';\n        }\n        return node;\n    });\n    return j.callExpression(j.identifier(functionName), mappedArgs);\n}\nfunction turnUrlIntoRouter(j, tree) {\n    tree.find(j.Identifier, { name: 'url' }).replaceWith(j.identifier('router'));\n}\nfunction transformer(file, api) {\n    // j is just a shorthand for the jscodeshift api\n    const j = api.jscodeshift;\n    // this is the AST root on which we can call methods like `.find`\n    const root = j(file.source);\n    // We search for `export default`\n    const defaultExports = root.find(j.ExportDefaultDeclaration);\n    // We loop over the `export default` instances\n    // This is just how jscodeshift works, there can only be one export default instance\n    defaultExports.forEach((rule) => {\n        // rule.value is an AST node\n        const { value: node } = rule;\n        // declaration holds the AST node for what comes after `export default`\n        const { declaration } = node;\n        function wrapDefaultExportInWithRouter() {\n            if (j(rule).find(j.CallExpression, { callee: { name: 'withRouter' } })\n                .length > 0) {\n                return;\n            }\n            j(rule).replaceWith(j.exportDefaultDeclaration(wrapNodeInFunction(j, 'withRouter', [declaration])));\n        }\n        // The `Identifier` type is given in this case:\n        // export default Test\n        // where `Test` is the identifier\n        if (declaration.type === 'Identifier') {\n            // the variable name\n            const { name } = declaration;\n            // find the implementation of the variable, can be a class, function, etc\n            let implementation = root.find(j.Declaration, { id: { name } });\n            if (implementation.length === 0) {\n                implementation = root.find(j.VariableDeclarator, { id: { name } });\n            }\n            implementation\n                .find(j.Property, { key: { name: 'url' } })\n                .forEach((propertyRule) => {\n                const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n                    init: {\n                        object: {\n                            type: 'ThisExpression',\n                        },\n                        property: { name: 'props' },\n                    },\n                });\n                if (isThisPropsDestructure.length === 0) {\n                    return;\n                }\n                const originalKeyValue = propertyRule.value.value.name;\n                propertyRule.value.key.name = 'router';\n                wrapDefaultExportInWithRouter();\n                addWithRouterImport(j, root);\n                // If the property is reassigned to another variable we don't have to transform it\n                if (originalKeyValue !== 'url') {\n                    return;\n                }\n                propertyRule.value.value.name = 'router';\n                j(propertyRule)\n                    .closest(j.BlockStatement)\n                    .find(j.Identifier, (identifierNode) => {\n                    if (identifierNode.type === 'JSXIdentifier') {\n                        return false;\n                    }\n                    if (identifierNode.name !== 'url') {\n                        return false;\n                    }\n                    return true;\n                })\n                    .replaceWith(j.identifier('router'));\n            });\n            // Find usage of `this.props.url`\n            const thisPropsUrlUsage = getThisPropsUrlNodes(j, implementation);\n            if (thisPropsUrlUsage.length === 0) {\n                return;\n            }\n            // rename `url` to `router`\n            turnUrlIntoRouter(j, thisPropsUrlUsage);\n            wrapDefaultExportInWithRouter();\n            addWithRouterImport(j, root);\n            return;\n        }\n        const arrowFunctions = j(rule).find(j.ArrowFunctionExpression);\n        (() => {\n            if (arrowFunctions.length === 0) {\n                return;\n            }\n            arrowFunctions.forEach((r) => {\n                // This makes sure we don't match nested functions, only the top one\n                if (j(r).closest(j.Expression).length !== 0) {\n                    return;\n                }\n                if (!r.value.params || !r.value.params[0]) {\n                    return;\n                }\n                const name = r.value.params[0].name;\n                const propsUrlUsage = getPropsUrlNodes(j, j(r), name);\n                if (propsUrlUsage.length === 0) {\n                    return;\n                }\n                turnUrlIntoRouter(j, propsUrlUsage);\n                wrapDefaultExportInWithRouter();\n                addWithRouterImport(j, root);\n            });\n            return;\n        })();\n        if (declaration.type === 'CallExpression') {\n            j(rule)\n                .find(j.CallExpression, (haystack) => {\n                const firstArgument = haystack.arguments[0] || {};\n                if (firstArgument.type === 'Identifier') {\n                    return true;\n                }\n                return false;\n            })\n                .forEach((callRule) => {\n                const { name } = callRule.value.arguments[0];\n                // find the implementation of the variable, can be a class, function, etc\n                let implementation = root.find(j.Declaration, { id: { name } });\n                if (implementation.length === 0) {\n                    implementation = root.find(j.VariableDeclarator, { id: { name } });\n                }\n                // Find usage of `this.props.url`\n                const thisPropsUrlUsage = getThisPropsUrlNodes(j, implementation);\n                implementation\n                    .find(j.Property, { key: { name: 'url' } })\n                    .forEach((propertyRule) => {\n                    const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n                        init: {\n                            object: {\n                                type: 'ThisExpression',\n                            },\n                            property: { name: 'props' },\n                        },\n                    });\n                    if (isThisPropsDestructure.length === 0) {\n                        return;\n                    }\n                    const originalKeyValue = propertyRule.value.value.name;\n                    propertyRule.value.key.name = 'router';\n                    wrapDefaultExportInWithRouter();\n                    addWithRouterImport(j, root);\n                    // If the property is reassigned to another variable we don't have to transform it\n                    if (originalKeyValue !== 'url') {\n                        return;\n                    }\n                    propertyRule.value.value.name = 'router';\n                    j(propertyRule)\n                        .closest(j.BlockStatement)\n                        .find(j.Identifier, (identifierNode) => {\n                        if (identifierNode.type === 'JSXIdentifier') {\n                            return false;\n                        }\n                        if (identifierNode.name !== 'url') {\n                            return false;\n                        }\n                        return true;\n                    })\n                        .replaceWith(j.identifier('router'));\n                });\n                if (thisPropsUrlUsage.length === 0) {\n                    return;\n                }\n                // rename `url` to `router`\n                turnUrlIntoRouter(j, thisPropsUrlUsage);\n                wrapDefaultExportInWithRouter();\n                addWithRouterImport(j, root);\n                return;\n            });\n        }\n        j(rule)\n            .find(j.Property, { key: { name: 'url' } })\n            .forEach((propertyRule) => {\n            const isThisPropsDestructure = j(propertyRule).closest(j.VariableDeclarator, {\n                init: {\n                    object: {\n                        type: 'ThisExpression',\n                    },\n                    property: { name: 'props' },\n                },\n            });\n            if (isThisPropsDestructure.length === 0) {\n                return;\n            }\n            const originalKeyValue = propertyRule.value.value.name;\n            propertyRule.value.key.name = 'router';\n            wrapDefaultExportInWithRouter();\n            addWithRouterImport(j, root);\n            // If the property is reassigned to another variable we don't have to transform it\n            if (originalKeyValue !== 'url') {\n                return;\n            }\n            propertyRule.value.value.name = 'router';\n            j(propertyRule)\n                .closest(j.BlockStatement)\n                .find(j.Identifier, (identifierNode) => {\n                if (identifierNode.type === 'JSXIdentifier') {\n                    return false;\n                }\n                if (identifierNode.name !== 'url') {\n                    return false;\n                }\n                return true;\n            })\n                .replaceWith(j.identifier('router'));\n        });\n        j(rule)\n            .find(j.MethodDefinition, { key: { name: 'componentWillReceiveProps' } })\n            .forEach((methodRule) => {\n            const func = methodRule.value.value;\n            if (!func.params[0]) {\n                return;\n            }\n            const firstArgumentName = func.params[0].name;\n            const propsUrlUsage = getPropsUrlNodes(j, j(methodRule), firstArgumentName);\n            turnUrlIntoRouter(j, propsUrlUsage);\n            if (propsUrlUsage.length === 0) {\n                return;\n            }\n            wrapDefaultExportInWithRouter();\n            addWithRouterImport(j, root);\n        });\n        j(rule)\n            .find(j.MethodDefinition, { key: { name: 'componentDidUpdate' } })\n            .forEach((methodRule) => {\n            const func = methodRule.value.value;\n            if (!func.params[0]) {\n                return;\n            }\n            const firstArgumentName = func.params[0].name;\n            const propsUrlUsage = getPropsUrlNodes(j, j(methodRule), firstArgumentName);\n            turnUrlIntoRouter(j, propsUrlUsage);\n            if (propsUrlUsage.length === 0) {\n                return;\n            }\n            wrapDefaultExportInWithRouter();\n            addWithRouterImport(j, root);\n        });\n        const thisPropsUrlUsage = getThisPropsUrlNodes(j, j(rule));\n        const propsUrlUsage = getPropsUrlNodes(j, j(rule), 'props');\n        // rename `url` to `router`\n        turnUrlIntoRouter(j, thisPropsUrlUsage);\n        turnUrlIntoRouter(j, propsUrlUsage);\n        if (thisPropsUrlUsage.length === 0 && propsUrlUsage.length === 0) {\n            return;\n        }\n        wrapDefaultExportInWithRouter();\n        addWithRouterImport(j, root);\n        return;\n    });\n    return root.toSource();\n}\nexports.default = transformer;\n//# sourceMappingURL=url-to-withrouter.js.map"],"mappings":"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"}},"mtime":1688594536259},"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/withamp-to-config.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"\"use strict\";\n\n// One-time usage file. You can delete me after running the codemod!\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction injectAmp(j, o, desiredAmpValue) {\n  const init = o.node.init;\n  switch (init.type) {\n    case 'ObjectExpression':\n      {\n        const overwroteAmpKey = init.properties.some(prop => {\n          switch (prop.type) {\n            case 'Property':\n            case 'ObjectProperty':\n              if (!(prop.key.type === 'Identifier' && prop.key.name === 'amp')) {\n                return false;\n              }\n              prop.value = desiredAmpValue;\n              return true;\n            default:\n              return false;\n          }\n        });\n        if (!overwroteAmpKey) {\n          init.properties.push(j.objectProperty(j.identifier('amp'), desiredAmpValue));\n        }\n        return true;\n      }\n    default:\n      {\n        return false;\n      }\n  }\n}\nfunction transformer(file, api) {\n  const j = api.jscodeshift.withParser('tsx');\n  const root = j(file.source);\n  const done = () => root.toSource();\n  const imports = root.find(j.ImportDeclaration, {\n    source: {\n      value: 'next/amp'\n    }\n  });\n  if (imports.length < 1) {\n    return;\n  }\n  let hadWithAmp = false;\n  const ampImportNames = [];\n  imports.forEach(ampImport => {\n    const ampImportShift = j(ampImport);\n    const withAmpImport = ampImportShift.find(j.ImportSpecifier, {\n      imported: {\n        name: 'withAmp'\n      }\n    });\n    if (withAmpImport.length < 1) {\n      return;\n    }\n    hadWithAmp = true;\n    withAmpImport.forEach(element => {\n      ampImportNames.push(element.value.local.name);\n      j(element).remove();\n    });\n    if (ampImport.value.specifiers.length === 0) {\n      ampImportShift.remove();\n    }\n  });\n  if (!hadWithAmp) {\n    return done();\n  }\n  const defaultExportsShift = root.find(j.ExportDefaultDeclaration);\n  if (defaultExportsShift.length < 1) {\n    return done();\n  }\n  let desiredAmpValue = j.booleanLiteral(true);\n  const defaultExport = defaultExportsShift.nodes()[0];\n  const removedWrapper = ampImportNames.some(ampImportName => {\n    const ampWrapping = j(defaultExport).find(j.CallExpression, {\n      callee: {\n        name: ampImportName\n      }\n    });\n    if (ampWrapping.length < 1) {\n      return false;\n    }\n    ampWrapping.forEach(e => {\n      if (e.value.arguments.length < 1) {\n        j(e).remove();\n      } else {\n        const withAmpOptions = e.value.arguments[1];\n        if (withAmpOptions && withAmpOptions.type === 'ObjectExpression') {\n          const isHybrid = withAmpOptions.properties.some(prop => {\n            if (!(prop.type === 'Property' || prop.type === 'ObjectProperty')) {\n              return false;\n            }\n            if (!(prop.key && prop.key.name === 'hybrid')) {\n              return false;\n            }\n            return (prop.value.type === 'Literal' || prop.value.type === 'BooleanLiteral') && prop.value.value === true;\n          });\n          if (isHybrid) {\n            desiredAmpValue = j.stringLiteral('hybrid');\n          }\n        }\n        j(e).replaceWith(e.value.arguments[0]);\n      }\n    });\n    return true;\n  });\n  if (!removedWrapper) {\n    return done();\n  }\n  const namedExportsShift = root.find(j.ExportNamedDeclaration);\n  const hadExistingConfig = namedExportsShift.some(namedExport => {\n    const configExportedObject = j(namedExport).find(j.VariableDeclarator, {\n      id: {\n        name: 'config'\n      }\n    });\n    if (configExportedObject.length > 0) {\n      return configExportedObject.some(exportedObject => injectAmp(j, exportedObject, desiredAmpValue));\n    }\n    const configReexported = j(namedExport).find(j.ExportSpecifier, {\n      local: {\n        name: 'config'\n      }\n    });\n    if (configReexported.length > 0) {\n      const configObjects = root.findVariableDeclarators('config').filter(el => el.scope.isGlobal);\n      return configObjects.some(configObject => injectAmp(j, configObject, desiredAmpValue));\n    }\n    return false;\n  });\n  if (!hadExistingConfig) {\n    defaultExportsShift.insertAfter(j.exportNamedDeclaration(j.variableDeclaration('const', [j.variableDeclarator(j.identifier('config'), j.objectExpression([j.objectProperty(j.identifier('amp'), desiredAmpValue)]))])));\n  }\n  return done();\n}\nexports.default = transformer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImluamVjdEFtcCIsImoiLCJvIiwiZGVzaXJlZEFtcFZhbHVlIiwiaW5pdCIsIm5vZGUiLCJ0eXBlIiwib3Zlcndyb3RlQW1wS2V5IiwicHJvcGVydGllcyIsInNvbWUiLCJwcm9wIiwia2V5IiwibmFtZSIsInB1c2giLCJvYmplY3RQcm9wZXJ0eSIsImlkZW50aWZpZXIiLCJ0cmFuc2Zvcm1lciIsImZpbGUiLCJhcGkiLCJqc2NvZGVzaGlmdCIsIndpdGhQYXJzZXIiLCJyb290Iiwic291cmNlIiwiZG9uZSIsInRvU291cmNlIiwiaW1wb3J0cyIsImZpbmQiLCJJbXBvcnREZWNsYXJhdGlvbiIsImxlbmd0aCIsImhhZFdpdGhBbXAiLCJhbXBJbXBvcnROYW1lcyIsImZvckVhY2giLCJhbXBJbXBvcnQiLCJhbXBJbXBvcnRTaGlmdCIsIndpdGhBbXBJbXBvcnQiLCJJbXBvcnRTcGVjaWZpZXIiLCJpbXBvcnRlZCIsImVsZW1lbnQiLCJsb2NhbCIsInJlbW92ZSIsInNwZWNpZmllcnMiLCJkZWZhdWx0RXhwb3J0c1NoaWZ0IiwiRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uIiwiYm9vbGVhbkxpdGVyYWwiLCJkZWZhdWx0RXhwb3J0Iiwibm9kZXMiLCJyZW1vdmVkV3JhcHBlciIsImFtcEltcG9ydE5hbWUiLCJhbXBXcmFwcGluZyIsIkNhbGxFeHByZXNzaW9uIiwiY2FsbGVlIiwiZSIsImFyZ3VtZW50cyIsIndpdGhBbXBPcHRpb25zIiwiaXNIeWJyaWQiLCJzdHJpbmdMaXRlcmFsIiwicmVwbGFjZVdpdGgiLCJuYW1lZEV4cG9ydHNTaGlmdCIsIkV4cG9ydE5hbWVkRGVjbGFyYXRpb24iLCJoYWRFeGlzdGluZ0NvbmZpZyIsIm5hbWVkRXhwb3J0IiwiY29uZmlnRXhwb3J0ZWRPYmplY3QiLCJWYXJpYWJsZURlY2xhcmF0b3IiLCJpZCIsImV4cG9ydGVkT2JqZWN0IiwiY29uZmlnUmVleHBvcnRlZCIsIkV4cG9ydFNwZWNpZmllciIsImNvbmZpZ09iamVjdHMiLCJmaW5kVmFyaWFibGVEZWNsYXJhdG9ycyIsImZpbHRlciIsImVsIiwic2NvcGUiLCJpc0dsb2JhbCIsImNvbmZpZ09iamVjdCIsImluc2VydEFmdGVyIiwiZXhwb3J0TmFtZWREZWNsYXJhdGlvbiIsInZhcmlhYmxlRGVjbGFyYXRpb24iLCJ2YXJpYWJsZURlY2xhcmF0b3IiLCJvYmplY3RFeHByZXNzaW9uIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3dlaXJhbmxpLy5ucG0vX25weC9hMGRjNzQ2NWFlZmI1NGY5L25vZGVfbW9kdWxlcy9AbmV4dC9jb2RlbW9kL3RyYW5zZm9ybXMvIiwic291cmNlcyI6WyJ3aXRoYW1wLXRvLWNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIE9uZS10aW1lIHVzYWdlIGZpbGUuIFlvdSBjYW4gZGVsZXRlIG1lIGFmdGVyIHJ1bm5pbmcgdGhlIGNvZGVtb2QhXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpbmplY3RBbXAoaiwgbywgZGVzaXJlZEFtcFZhbHVlKSB7XG4gICAgY29uc3QgaW5pdCA9IG8ubm9kZS5pbml0O1xuICAgIHN3aXRjaCAoaW5pdC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ09iamVjdEV4cHJlc3Npb24nOiB7XG4gICAgICAgICAgICBjb25zdCBvdmVyd3JvdGVBbXBLZXkgPSBpbml0LnByb3BlcnRpZXMuc29tZSgocHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1Byb3BlcnR5JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT2JqZWN0UHJvcGVydHknOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJvcC5rZXkudHlwZSA9PT0gJ0lkZW50aWZpZXInICYmIHByb3Aua2V5Lm5hbWUgPT09ICdhbXAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBkZXNpcmVkQW1wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghb3Zlcndyb3RlQW1wS2V5KSB7XG4gICAgICAgICAgICAgICAgaW5pdC5wcm9wZXJ0aWVzLnB1c2goai5vYmplY3RQcm9wZXJ0eShqLmlkZW50aWZpZXIoJ2FtcCcpLCBkZXNpcmVkQW1wVmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybWVyKGZpbGUsIGFwaSkge1xuICAgIGNvbnN0IGogPSBhcGkuanNjb2Rlc2hpZnQud2l0aFBhcnNlcigndHN4Jyk7XG4gICAgY29uc3Qgcm9vdCA9IGooZmlsZS5zb3VyY2UpO1xuICAgIGNvbnN0IGRvbmUgPSAoKSA9PiByb290LnRvU291cmNlKCk7XG4gICAgY29uc3QgaW1wb3J0cyA9IHJvb3QuZmluZChqLkltcG9ydERlY2xhcmF0aW9uLCB7XG4gICAgICAgIHNvdXJjZTogeyB2YWx1ZTogJ25leHQvYW1wJyB9LFxuICAgIH0pO1xuICAgIGlmIChpbXBvcnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaGFkV2l0aEFtcCA9IGZhbHNlO1xuICAgIGNvbnN0IGFtcEltcG9ydE5hbWVzID0gW107XG4gICAgaW1wb3J0cy5mb3JFYWNoKChhbXBJbXBvcnQpID0+IHtcbiAgICAgICAgY29uc3QgYW1wSW1wb3J0U2hpZnQgPSBqKGFtcEltcG9ydCk7XG4gICAgICAgIGNvbnN0IHdpdGhBbXBJbXBvcnQgPSBhbXBJbXBvcnRTaGlmdC5maW5kKGouSW1wb3J0U3BlY2lmaWVyLCB7XG4gICAgICAgICAgICBpbXBvcnRlZDogeyBuYW1lOiAnd2l0aEFtcCcgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh3aXRoQW1wSW1wb3J0Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYWRXaXRoQW1wID0gdHJ1ZTtcbiAgICAgICAgd2l0aEFtcEltcG9ydC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhbXBJbXBvcnROYW1lcy5wdXNoKGVsZW1lbnQudmFsdWUubG9jYWwubmFtZSk7XG4gICAgICAgICAgICBqKGVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFtcEltcG9ydC52YWx1ZS5zcGVjaWZpZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYW1wSW1wb3J0U2hpZnQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWhhZFdpdGhBbXApIHtcbiAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdEV4cG9ydHNTaGlmdCA9IHJvb3QuZmluZChqLkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbik7XG4gICAgaWYgKGRlZmF1bHRFeHBvcnRzU2hpZnQubGVuZ3RoIDwgMSkge1xuICAgICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cbiAgICBsZXQgZGVzaXJlZEFtcFZhbHVlID0gai5ib29sZWFuTGl0ZXJhbCh0cnVlKTtcbiAgICBjb25zdCBkZWZhdWx0RXhwb3J0ID0gZGVmYXVsdEV4cG9ydHNTaGlmdC5ub2RlcygpWzBdO1xuICAgIGNvbnN0IHJlbW92ZWRXcmFwcGVyID0gYW1wSW1wb3J0TmFtZXMuc29tZSgoYW1wSW1wb3J0TmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBhbXBXcmFwcGluZyA9IGooZGVmYXVsdEV4cG9ydCkuZmluZChqLkNhbGxFeHByZXNzaW9uLCB7XG4gICAgICAgICAgICBjYWxsZWU6IHsgbmFtZTogYW1wSW1wb3J0TmFtZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFtcFdyYXBwaW5nLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhbXBXcmFwcGluZy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS52YWx1ZS5hcmd1bWVudHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgIGooZSkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3aXRoQW1wT3B0aW9ucyA9IGUudmFsdWUuYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgIGlmICh3aXRoQW1wT3B0aW9ucyAmJiB3aXRoQW1wT3B0aW9ucy50eXBlID09PSAnT2JqZWN0RXhwcmVzc2lvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNIeWJyaWQgPSB3aXRoQW1wT3B0aW9ucy5wcm9wZXJ0aWVzLnNvbWUoKHByb3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHByb3AudHlwZSA9PT0gJ1Byb3BlcnR5JyB8fCBwcm9wLnR5cGUgPT09ICdPYmplY3RQcm9wZXJ0eScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJvcC5rZXkgJiYgcHJvcC5rZXkubmFtZSA9PT0gJ2h5YnJpZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgocHJvcC52YWx1ZS50eXBlID09PSAnTGl0ZXJhbCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLnZhbHVlLnR5cGUgPT09ICdCb29sZWFuTGl0ZXJhbCcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC52YWx1ZS52YWx1ZSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIeWJyaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lyZWRBbXBWYWx1ZSA9IGouc3RyaW5nTGl0ZXJhbCgnaHlicmlkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaihlKS5yZXBsYWNlV2l0aChlLnZhbHVlLmFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBpZiAoIXJlbW92ZWRXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuICAgIGNvbnN0IG5hbWVkRXhwb3J0c1NoaWZ0ID0gcm9vdC5maW5kKGouRXhwb3J0TmFtZWREZWNsYXJhdGlvbik7XG4gICAgY29uc3QgaGFkRXhpc3RpbmdDb25maWcgPSBuYW1lZEV4cG9ydHNTaGlmdC5zb21lKChuYW1lZEV4cG9ydCkgPT4ge1xuICAgICAgICBjb25zdCBjb25maWdFeHBvcnRlZE9iamVjdCA9IGoobmFtZWRFeHBvcnQpLmZpbmQoai5WYXJpYWJsZURlY2xhcmF0b3IsIHtcbiAgICAgICAgICAgIGlkOiB7IG5hbWU6ICdjb25maWcnIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnRXhwb3J0ZWRPYmplY3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ0V4cG9ydGVkT2JqZWN0LnNvbWUoKGV4cG9ydGVkT2JqZWN0KSA9PiBpbmplY3RBbXAoaiwgZXhwb3J0ZWRPYmplY3QsIGRlc2lyZWRBbXBWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ1JlZXhwb3J0ZWQgPSBqKG5hbWVkRXhwb3J0KS5maW5kKGouRXhwb3J0U3BlY2lmaWVyLCB7XG4gICAgICAgICAgICBsb2NhbDogeyBuYW1lOiAnY29uZmlnJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbmZpZ1JlZXhwb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnT2JqZWN0cyA9IHJvb3RcbiAgICAgICAgICAgICAgICAuZmluZFZhcmlhYmxlRGVjbGFyYXRvcnMoJ2NvbmZpZycpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnNjb3BlLmlzR2xvYmFsKTtcbiAgICAgICAgICAgIHJldHVybiBjb25maWdPYmplY3RzLnNvbWUoKGNvbmZpZ09iamVjdCkgPT4gaW5qZWN0QW1wKGosIGNvbmZpZ09iamVjdCwgZGVzaXJlZEFtcFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIGlmICghaGFkRXhpc3RpbmdDb25maWcpIHtcbiAgICAgICAgZGVmYXVsdEV4cG9ydHNTaGlmdC5pbnNlcnRBZnRlcihqLmV4cG9ydE5hbWVkRGVjbGFyYXRpb24oai52YXJpYWJsZURlY2xhcmF0aW9uKCdjb25zdCcsIFtcbiAgICAgICAgICAgIGoudmFyaWFibGVEZWNsYXJhdG9yKGouaWRlbnRpZmllcignY29uZmlnJyksIGoub2JqZWN0RXhwcmVzc2lvbihbXG4gICAgICAgICAgICAgICAgai5vYmplY3RQcm9wZXJ0eShqLmlkZW50aWZpZXIoJ2FtcCcpLCBkZXNpcmVkQW1wVmFsdWUpLFxuICAgICAgICAgICAgXSkpLFxuICAgICAgICBdKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZG9uZSgpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoYW1wLXRvLWNvbmZpZy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1o7QUFDQUEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzdELFNBQVNDLFNBQVNBLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxlQUFlLEVBQUU7RUFDdEMsTUFBTUMsSUFBSSxHQUFHRixDQUFDLENBQUNHLElBQUksQ0FBQ0QsSUFBSTtFQUN4QixRQUFRQSxJQUFJLENBQUNFLElBQUk7SUFDYixLQUFLLGtCQUFrQjtNQUFFO1FBQ3JCLE1BQU1DLGVBQWUsR0FBR0gsSUFBSSxDQUFDSSxVQUFVLENBQUNDLElBQUksQ0FBRUMsSUFBSSxJQUFLO1VBQ25ELFFBQVFBLElBQUksQ0FBQ0osSUFBSTtZQUNiLEtBQUssVUFBVTtZQUNmLEtBQUssZ0JBQWdCO2NBQ2pCLElBQUksRUFBRUksSUFBSSxDQUFDQyxHQUFHLENBQUNMLElBQUksS0FBSyxZQUFZLElBQUlJLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUU7Z0JBQzlELE9BQU8sS0FBSztjQUNoQjtjQUNBRixJQUFJLENBQUNYLEtBQUssR0FBR0ksZUFBZTtjQUM1QixPQUFPLElBQUk7WUFDZjtjQUNJLE9BQU8sS0FBSztVQUNwQjtRQUNKLENBQUMsQ0FBQztRQUNGLElBQUksQ0FBQ0ksZUFBZSxFQUFFO1VBQ2xCSCxJQUFJLENBQUNJLFVBQVUsQ0FBQ0ssSUFBSSxDQUFDWixDQUFDLENBQUNhLGNBQWMsQ0FBQ2IsQ0FBQyxDQUFDYyxVQUFV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","map":{"version":3,"names":["Object","defineProperty","exports","value","injectAmp","j","o","desiredAmpValue","init","node","type","overwroteAmpKey","properties","some","prop","key","name","push","objectProperty","identifier","transformer","file","api","jscodeshift","withParser","root","source","done","toSource","imports","find","ImportDeclaration","length","hadWithAmp","ampImportNames","forEach","ampImport","ampImportShift","withAmpImport","ImportSpecifier","imported","element","local","remove","specifiers","defaultExportsShift","ExportDefaultDeclaration","booleanLiteral","defaultExport","nodes","removedWrapper","ampImportName","ampWrapping","CallExpression","callee","e","arguments","withAmpOptions","isHybrid","stringLiteral","replaceWith","namedExportsShift","ExportNamedDeclaration","hadExistingConfig","namedExport","configExportedObject","VariableDeclarator","id","exportedObject","configReexported","ExportSpecifier","configObjects","findVariableDeclarators","filter","el","scope","isGlobal","configObject","insertAfter","exportNamedDeclaration","variableDeclaration","variableDeclarator","objectExpression","default"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/","sources":["withamp-to-config.js"],"sourcesContent":["\"use strict\";\n// One-time usage file. You can delete me after running the codemod!\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction injectAmp(j, o, desiredAmpValue) {\n    const init = o.node.init;\n    switch (init.type) {\n        case 'ObjectExpression': {\n            const overwroteAmpKey = init.properties.some((prop) => {\n                switch (prop.type) {\n                    case 'Property':\n                    case 'ObjectProperty':\n                        if (!(prop.key.type === 'Identifier' && prop.key.name === 'amp')) {\n                            return false;\n                        }\n                        prop.value = desiredAmpValue;\n                        return true;\n                    default:\n                        return false;\n                }\n            });\n            if (!overwroteAmpKey) {\n                init.properties.push(j.objectProperty(j.identifier('amp'), desiredAmpValue));\n            }\n            return true;\n        }\n        default: {\n            return false;\n        }\n    }\n}\nfunction transformer(file, api) {\n    const j = api.jscodeshift.withParser('tsx');\n    const root = j(file.source);\n    const done = () => root.toSource();\n    const imports = root.find(j.ImportDeclaration, {\n        source: { value: 'next/amp' },\n    });\n    if (imports.length < 1) {\n        return;\n    }\n    let hadWithAmp = false;\n    const ampImportNames = [];\n    imports.forEach((ampImport) => {\n        const ampImportShift = j(ampImport);\n        const withAmpImport = ampImportShift.find(j.ImportSpecifier, {\n            imported: { name: 'withAmp' },\n        });\n        if (withAmpImport.length < 1) {\n            return;\n        }\n        hadWithAmp = true;\n        withAmpImport.forEach((element) => {\n            ampImportNames.push(element.value.local.name);\n            j(element).remove();\n        });\n        if (ampImport.value.specifiers.length === 0) {\n            ampImportShift.remove();\n        }\n    });\n    if (!hadWithAmp) {\n        return done();\n    }\n    const defaultExportsShift = root.find(j.ExportDefaultDeclaration);\n    if (defaultExportsShift.length < 1) {\n        return done();\n    }\n    let desiredAmpValue = j.booleanLiteral(true);\n    const defaultExport = defaultExportsShift.nodes()[0];\n    const removedWrapper = ampImportNames.some((ampImportName) => {\n        const ampWrapping = j(defaultExport).find(j.CallExpression, {\n            callee: { name: ampImportName },\n        });\n        if (ampWrapping.length < 1) {\n            return false;\n        }\n        ampWrapping.forEach((e) => {\n            if (e.value.arguments.length < 1) {\n                j(e).remove();\n            }\n            else {\n                const withAmpOptions = e.value.arguments[1];\n                if (withAmpOptions && withAmpOptions.type === 'ObjectExpression') {\n                    const isHybrid = withAmpOptions.properties.some((prop) => {\n                        if (!(prop.type === 'Property' || prop.type === 'ObjectProperty')) {\n                            return false;\n                        }\n                        if (!(prop.key && prop.key.name === 'hybrid')) {\n                            return false;\n                        }\n                        return ((prop.value.type === 'Literal' ||\n                            prop.value.type === 'BooleanLiteral') &&\n                            prop.value.value === true);\n                    });\n                    if (isHybrid) {\n                        desiredAmpValue = j.stringLiteral('hybrid');\n                    }\n                }\n                j(e).replaceWith(e.value.arguments[0]);\n            }\n        });\n        return true;\n    });\n    if (!removedWrapper) {\n        return done();\n    }\n    const namedExportsShift = root.find(j.ExportNamedDeclaration);\n    const hadExistingConfig = namedExportsShift.some((namedExport) => {\n        const configExportedObject = j(namedExport).find(j.VariableDeclarator, {\n            id: { name: 'config' },\n        });\n        if (configExportedObject.length > 0) {\n            return configExportedObject.some((exportedObject) => injectAmp(j, exportedObject, desiredAmpValue));\n        }\n        const configReexported = j(namedExport).find(j.ExportSpecifier, {\n            local: { name: 'config' },\n        });\n        if (configReexported.length > 0) {\n            const configObjects = root\n                .findVariableDeclarators('config')\n                .filter((el) => el.scope.isGlobal);\n            return configObjects.some((configObject) => injectAmp(j, configObject, desiredAmpValue));\n        }\n        return false;\n    });\n    if (!hadExistingConfig) {\n        defaultExportsShift.insertAfter(j.exportNamedDeclaration(j.variableDeclaration('const', [\n            j.variableDeclarator(j.identifier('config'), j.objectExpression([\n                j.objectProperty(j.identifier('amp'), desiredAmpValue),\n            ])),\n        ])));\n    }\n    return done();\n}\nexports.default = transformer;\n//# sourceMappingURL=withamp-to-config.js.map"],"mappings":"AAAA,YAAY;;AACZ;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,SAASC,SAASA,CAACC,CAAC,EAAEC,CAAC,EAAEC,eAAe,EAAE;EACtC,MAAMC,IAAI,GAAGF,CAAC,CAACG,IAAI,CAACD,IAAI;EACxB,QAAQA,IAAI,CAACE,IAAI;IACb,KAAK,kBAAkB;MAAE;QACrB,MAAMC,eAAe,GAAGH,IAAI,CAACI,UAAU,CAACC,IAAI,CAAEC,IAAI,IAAK;UACnD,QAAQA,IAAI,CAACJ,IAAI;YACb,KAAK,UAAU;YACf,KAAK,gBAAgB;cACjB,IAAI,EAAEI,IAAI,CAACC,GAAG,CAACL,IAAI,KAAK,YAAY,IAAII,IAAI,CAACC,GAAG,CAACC,IAAI,KAAK,KAAK,CAAC,EAAE;gBAC9D,OAAO,KAAK;cAChB;cACAF,IAAI,CAACX,KAAK,GAAGI,eAAe;cAC5B,OAAO,IAAI;YACf;cACI,OAAO,KAAK;UACpB;QACJ,CAAC,CAAC;QACF,IAAI,CAACI,eAAe,EAAE;UAClBH,IAAI,CAACI,UAAU,CAACK,IAAI,CAACZ,CAAC,CAACa,cAAc,CAACb,CAAC,CAACc,UAAU,CAAC,KAAK,CAAC,EAAEZ,eAAe,CAAC,CAAC;QAChF;QACA,OAAO,IAAI;MACf;IACA;MAAS;QACL,OAAO,KAAK;MAChB;EACJ;AACJ;AACA,SAASa,WAAWA,CAACC,IAAI,EAAEC,GAAG,EAAE;EAC5B,MAAMjB,CAAC,GAAGiB,GAAG,CAACC,WAAW,CAACC,UAAU,CAAC,KAAK,CAAC;EAC3C,MAAMC,IAAI,GAAGpB,CAAC,CAACgB,IAAI,CAACK,MAAM,CAAC;EAC3B,MAAMC,IAAI,GAAGA,CAAA,KAAMF,IAAI,CAACG,QAAQ,CAAC,CAAC;EAClC,MAAMC,OAAO,GAAGJ,IAAI,CAACK,IAAI,CAACzB,CAAC,CAAC0B,iBAAiB,EAAE;IAC3CL,MAAM,EAAE;MAAEvB,KAAK,EAAE;IAAW;EAChC,CAAC,CAAC;EACF,IAAI0B,OAAO,CAACG,MAAM,GAAG,CAAC,EAAE;IACpB;EACJ;EACA,IAAIC,UAAU,GAAG,KAAK;EACtB,MAAMC,cAAc,GAAG,EAAE;EACzBL,OAAO,CAACM,OAAO,CAAEC,SAAS,IAAK;IAC3B,MAAMC,cAAc,GAAGhC,CAAC,CAAC+B,SAAS,CAAC;IACnC,MAAME,aAAa,GAAGD,cAAc,CAACP,IAAI,CAACzB,CAAC,CAACkC,eAAe,EAAE;MACzDC,QAAQ,EAAE;QAAExB,IAAI,EAAE;MAAU;IAChC,CAAC,CAAC;IACF,IAAIsB,aAAa,CAACN,MAAM,GAAG,CAAC,EAAE;MAC1B;IACJ;IACAC,UAAU,GAAG,IAAI;IACjBK,aAAa,CAACH,OAAO,CAAEM,OAAO,IAAK;MAC/BP,cAAc,CAACjB,IAAI,CAACwB,OAAO,CAACtC,KAAK,CAACuC,KAAK,CAAC1B,IAAI,CAAC;MAC7CX,CAAC,CAACoC,OAAO,CAAC,CAACE,MAAM,CAAC,CAAC;IACvB,CAAC,CAAC;IACF,IAAIP,SAAS,CAACjC,KAAK,CAACyC,UAAU,CAACZ,MAAM,KAAK,CAAC,EAAE;MACzCK,cAAc,CAACM,MAAM,CAAC,CAAC;IAC3B;EACJ,CAAC,CAAC;EACF,IAAI,CAACV,UAAU,EAAE;IACb,OAAON,IAAI,CAAC,CAAC;EACjB;EACA,MAAMkB,mBAAmB,GAAGpB,IAAI,CAACK,IAAI,CAACzB,CAAC,CAACyC,wBAAwB,CAAC;EACjE,IAAID,mBAAmB,CAACb,MAAM,GAAG,CAAC,EAAE;IAChC,OAAOL,IAAI,CAAC,CAAC;EACjB;EACA,IAAIpB,eAAe,GAAGF,CAAC,CAAC0C,cAAc,CAAC,IAAI,CAAC;EAC5C,MAAMC,aAAa,GAAGH,mBAAmB,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EACpD,MAAMC,cAAc,GAAGhB,cAAc,CAACrB,IAAI,CAAEsC,aAAa,IAAK;IAC1D,MAAMC,WAAW,GAAG/C,CAAC,CAAC2C,aAAa,CAAC,CAAClB,IAAI,CAACzB,CAAC,CAACgD,cAAc,EAAE;MACxDC,MAAM,EAAE;QAAEtC,IAAI,EAAEmC;MAAc;IAClC,CAAC,CAAC;IACF,IAAIC,WAAW,CAACpB,MAAM,GAAG,CAAC,EAAE;MACxB,OAAO,KAAK;IAChB;IACAoB,WAAW,CAACjB,OAAO,CAAEoB,CAAC,IAAK;MACvB,IAAIA,CAAC,CAACpD,KAAK,CAACqD,SAAS,CAACxB,MAAM,GAAG,CAAC,EAAE;QAC9B3B,CAAC,CAACkD,CAAC,CAAC,CAACZ,MAAM,CAAC,CAAC;MACjB,CAAC,MACI;QACD,MAAMc,cAAc,GAAGF,CAAC,CAACpD,KAAK,CAACqD,SAAS,CAAC,CAAC,CAAC;QAC3C,IAAIC,cAAc,IAAIA,cAAc,CAAC/C,IAAI,KAAK,kBAAkB,EAAE;UAC9D,MAAMgD,QAAQ,GAAGD,cAAc,CAAC7C,UAAU,CAACC,IAAI,CAAEC,IAAI,IAAK;YACtD,IAAI,EAAEA,IAAI,CAACJ,IAAI,KAAK,UAAU,IAAII,IAAI,CAACJ,IAAI,KAAK,gBAAgB,CAAC,EAAE;cAC/D,OAAO,KAAK;YAChB;YACA,IAAI,EAAEI,IAAI,CAACC,GAAG,IAAID,IAAI,CAACC,GAAG,CAACC,IAAI,KAAK,QAAQ,CAAC,EAAE;cAC3C,OAAO,KAAK;YAChB;YACA,OAAQ,CAACF,IAAI,CAACX,KAAK,CAACO,IAAI,KAAK,SAAS,IAClCI,IAAI,CAACX,KAAK,CAACO,IAAI,KAAK,gBAAgB,KACpCI,IAAI,CAACX,KAAK,CAACA,KAAK,KAAK,IAAI;UACjC,CAAC,CAAC;UACF,IAAIuD,QAAQ,EAAE;YACVnD,eAAe,GAAGF,CAAC,CAACsD,aAAa,CAAC,QAAQ,CAAC;UAC/C;QACJ;QACAtD,CAAC,CAACkD,CAAC,CAAC,CAACK,WAAW,CAACL,CAAC,CAACpD,KAAK,CAACqD,SAAS,CAAC,CAAC,CAAC,CAAC;MAC1C;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC,CAAC;EACF,IAAI,CAACN,cAAc,EAAE;IACjB,OAAOvB,IAAI,CAAC,CAAC;EACjB;EACA,MAAMkC,iBAAiB,GAAGpC,IAAI,CAACK,IAAI,CAACzB,CAAC,CAACyD,sBAAsB,CAAC;EAC7D,MAAMC,iBAAiB,GAAGF,iBAAiB,CAAChD,IAAI,CAAEmD,WAAW,IAAK;IAC9D,MAAMC,oBAAoB,GAAG5D,CAAC,CAAC2D,WAAW,CAAC,CAAClC,IAAI,CAACzB,CAAC,CAAC6D,kBAAkB,EAAE;MACnEC,EAAE,EAAE;QAAEnD,IAAI,EAAE;MAAS;IACzB,CAAC,CAAC;IACF,IAAIiD,oBAAoB,CAACjC,MAAM,GAAG,CAAC,EAAE;MACjC,OAAOiC,oBAAoB,CAACpD,IAAI,CAAEuD,cAAc,IAAKhE,SAAS,CAACC,CAAC,EAAE+D,cAAc,EAAE7D,eAAe,CAAC,CAAC;IACvG;IACA,MAAM8D,gBAAgB,GAAGhE,CAAC,CAAC2D,WAAW,CAAC,CAAClC,IAAI,CAACzB,CAAC,CAACiE,eAAe,EAAE;MAC5D5B,KAAK,EAAE;QAAE1B,IAAI,EAAE;MAAS;IAC5B,CAAC,CAAC;IACF,IAAIqD,gBAAgB,CAACrC,MAAM,GAAG,CAAC,EAAE;MAC7B,MAAMuC,aAAa,GAAG9C,IAAI,CACrB+C,uBAAuB,CAAC,QAAQ,CAAC,CACjCC,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACC,KAAK,CAACC,QAAQ,CAAC;MACtC,OAAOL,aAAa,CAAC1D,IAAI,CAAEgE,YAAY,IAAKzE,SAAS,CAACC,CAAC,EAAEwE,YAAY,EAAEtE,eAAe,CAAC,CAAC;IAC5F;IACA,OAAO,KAAK;EAChB,CAAC,CAAC;EACF,IAAI,CAACwD,iBAAiB,EAAE;IACpBlB,mBAAmB,CAACiC,WAAW,CAACzE,CAAC,CAAC0E,sBAAsB,CAAC1E,CAAC,CAAC2E,mBAAmB,CAAC,OAAO,EAAE,CACpF3E,CAAC,CAAC4E,kBAAkB,CAAC5E,CAAC,CAACc,UAAU,CAAC,QAAQ,CAAC,EAAEd,CAAC,CAAC6E,gBAAgB,CAAC,CAC5D7E,CAAC,CAACa,cAAc,CAACb,CAAC,CAACc,UAAU,CAAC,KAAK,CAAC,EAAEZ,eAAe,CAAC,CACzD,CAAC,CAAC,CACN,CAAC,CAAC,CAAC;EACR;EACA,OAAOoB,IAAI,CAAC,CAAC;AACjB;AACAzB,OAAO,CAACiF,OAAO,GAAG/D,WAAW"}},"mtime":1688594536259},"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/tsx.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nconst babylon = require('@babel/parser');\nconst baseOptions = require('./tsOptions');\nconst options = Object.assign({}, baseOptions);\noptions.plugins = ['jsx'].concat(baseOptions.plugins);\n\n/**\n * Doesn't accept custom options because babylon should be used directly in\n * that case.\n */\nmodule.exports = function () {\n  return {\n    parse(code) {\n      return babylon.parse(code, options);\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYWJ5bG9uIiwicmVxdWlyZSIsImJhc2VPcHRpb25zIiwib3B0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsInBsdWdpbnMiLCJjb25jYXQiLCJtb2R1bGUiLCJleHBvcnRzIiwicGFyc2UiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvd2VpcmFubGkvLm5wbS9fbnB4L2EwZGM3NDY1YWVmYjU0Zjkvbm9kZV9tb2R1bGVzL2pzY29kZXNoaWZ0L3BhcnNlci8iLCJzb3VyY2VzIjpbInRzeC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBiYWJ5bG9uID0gcmVxdWlyZSgnQGJhYmVsL3BhcnNlcicpO1xuY29uc3QgYmFzZU9wdGlvbnMgPSByZXF1aXJlKCcuL3RzT3B0aW9ucycpO1xuXG5jb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzZU9wdGlvbnMpO1xub3B0aW9ucy5wbHVnaW5zID0gWydqc3gnXS5jb25jYXQoYmFzZU9wdGlvbnMucGx1Z2lucyk7XG5cbi8qKlxuICogRG9lc24ndCBhY2NlcHQgY3VzdG9tIG9wdGlvbnMgYmVjYXVzZSBiYWJ5bG9uIHNob3VsZCBiZSB1c2VkIGRpcmVjdGx5IGluXG4gKiB0aGF0IGNhc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcGFyc2UoY29kZSkge1xuICAgICAgcmV0dXJuIGJhYnlsb24ucGFyc2UoY29kZSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZOztBQUVaLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUN4QyxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFFMUMsTUFBTUUsT0FBTyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRUgsV0FBVyxDQUFDO0FBQzlDQyxPQUFPLENBQUNHLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDQyxNQUFNLENBQUNMLFdBQVcsQ0FBQ0ksT0FBTyxDQUFDOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBRSxNQUFNLENBQUNDLE9BQU8sR0FBRyxZQUFXO0VBQzFCLE9BQU87SUFDTEMsS0FBS0EsQ0FBQ0MsSUFBSSxFQUFFO01BQ1YsT0FBT1gsT0FBTyxDQUFDVSxLQUFLLENBQUNDLElBQUksRUFBRVIsT0FBTyxDQUFDO0lBQ3JDO0VBQ0YsQ0FBQztBQUNILENBQUMifQ==","map":{"version":3,"names":["babylon","require","baseOptions","options","Object","assign","plugins","concat","module","exports","parse","code"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/","sources":["tsx.js"],"sourcesContent":["\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nconst babylon = require('@babel/parser');\nconst baseOptions = require('./tsOptions');\n\nconst options = Object.assign({}, baseOptions);\noptions.plugins = ['jsx'].concat(baseOptions.plugins);\n\n/**\n * Doesn't accept custom options because babylon should be used directly in\n * that case.\n */\nmodule.exports = function() {\n  return {\n    parse(code) {\n      return babylon.parse(code, options);\n    },\n  };\n};\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,eAAe,CAAC;AACxC,MAAMC,WAAW,GAAGD,OAAO,CAAC,aAAa,CAAC;AAE1C,MAAME,OAAO,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,WAAW,CAAC;AAC9CC,OAAO,CAACG,OAAO,GAAG,CAAC,KAAK,CAAC,CAACC,MAAM,CAACL,WAAW,CAACI,OAAO,CAAC;;AAErD;AACA;AACA;AACA;AACAE,MAAM,CAACC,OAAO,GAAG,YAAW;EAC1B,OAAO;IACLC,KAAKA,CAACC,IAAI,EAAE;MACV,OAAOX,OAAO,CAACU,KAAK,CAACC,IAAI,EAAER,OAAO,CAAC;IACrC;EACF,CAAC;AACH,CAAC"}},"mtime":1688594536103},"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/tsOptions.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Options shared by the TypeScript and TSX parsers.\n */\nmodule.exports = {\n  sourceType: 'module',\n  allowImportExportEverywhere: true,\n  allowReturnOutsideFunction: true,\n  startLine: 1,\n  tokens: true,\n  plugins: ['asyncGenerators', 'bigInt', 'classPrivateMethods', 'classPrivateProperties', 'classProperties', 'decorators-legacy', 'doExpressions', 'dynamicImport', 'exportDefaultFrom', 'exportExtensions', 'exportNamespaceFrom', 'functionBind', 'functionSent', 'importMeta', 'nullishCoalescingOperator', 'numericSeparator', 'objectRestSpread', 'optionalCatchBinding', 'optionalChaining', ['pipelineOperator', {\n    proposal: 'minimal'\n  }], 'throwExpressions', 'typescript']\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic291cmNlVHlwZSIsImFsbG93SW1wb3J0RXhwb3J0RXZlcnl3aGVyZSIsImFsbG93UmV0dXJuT3V0c2lkZUZ1bmN0aW9uIiwic3RhcnRMaW5lIiwidG9rZW5zIiwicGx1Z2lucyIsInByb3Bvc2FsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvd2VpcmFubGkvLm5wbS9fbnB4L2EwZGM3NDY1YWVmYjU0Zjkvbm9kZV9tb2R1bGVzL2pzY29kZXNoaWZ0L3BhcnNlci8iLCJzb3VyY2VzIjpbInRzT3B0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE9wdGlvbnMgc2hhcmVkIGJ5IHRoZSBUeXBlU2NyaXB0IGFuZCBUU1ggcGFyc2Vycy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNvdXJjZVR5cGU6ICdtb2R1bGUnLFxuICBhbGxvd0ltcG9ydEV4cG9ydEV2ZXJ5d2hlcmU6IHRydWUsXG4gIGFsbG93UmV0dXJuT3V0c2lkZUZ1bmN0aW9uOiB0cnVlLFxuICBzdGFydExpbmU6IDEsXG4gIHRva2VuczogdHJ1ZSxcbiAgcGx1Z2luczogW1xuICAgICdhc3luY0dlbmVyYXRvcnMnLFxuICAgICdiaWdJbnQnLFxuICAgICdjbGFzc1ByaXZhdGVNZXRob2RzJyxcbiAgICAnY2xhc3NQcml2YXRlUHJvcGVydGllcycsXG4gICAgJ2NsYXNzUHJvcGVydGllcycsXG4gICAgJ2RlY29yYXRvcnMtbGVnYWN5JyxcbiAgICAnZG9FeHByZXNzaW9ucycsXG4gICAgJ2R5bmFtaWNJbXBvcnQnLFxuICAgICdleHBvcnREZWZhdWx0RnJvbScsXG4gICAgJ2V4cG9ydEV4dGVuc2lvbnMnLFxuICAgICdleHBvcnROYW1lc3BhY2VGcm9tJyxcbiAgICAnZnVuY3Rpb25CaW5kJyxcbiAgICAnZnVuY3Rpb25TZW50JyxcbiAgICAnaW1wb3J0TWV0YScsXG4gICAgJ251bGxpc2hDb2FsZXNjaW5nT3BlcmF0b3InLFxuICAgICdudW1lcmljU2VwYXJhdG9yJyxcbiAgICAnb2JqZWN0UmVzdFNwcmVhZCcsXG4gICAgJ29wdGlvbmFsQ2F0Y2hCaW5kaW5nJyxcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXG4gICAgWydwaXBlbGluZU9wZXJhdG9yJywgeyBwcm9wb3NhbDogJ21pbmltYWwnIH1dLFxuICAgICd0aHJvd0V4cHJlc3Npb25zJyxcbiAgICAndHlwZXNjcmlwdCdcbiAgXSxcbn07XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBQSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxVQUFVLEVBQUUsUUFBUTtFQUNwQkMsMkJBQTJCLEVBQUUsSUFBSTtFQUNqQ0MsMEJBQTBCLEVBQUUsSUFBSTtFQUNoQ0MsU0FBUyxFQUFFLENBQUM7RUFDWkMsTUFBTSxFQUFFLElBQUk7RUFDWkMsT0FBTyxFQUFFLENBQ1AsaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixxQkFBcUIsRUFDckIsd0JBQXdCLEVBQ3hCLGlCQUFpQixFQUNqQixtQkFBbUIsRUFDbkIsZUFBZSxFQUNmLGVBQWUsRUFDZixtQkFBbUIsRUFDbkIsa0JBQWtCLEVBQ2xCLHFCQUFxQixFQUNyQixjQUFjLEVBQ2QsY0FBYyxFQUNkLFlBQVksRUFDWiwyQkFBMkIsRUFDM0Isa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixzQkFBc0IsRUFDdEIsa0JBQWtCLEVBQ2xCLENBQUMsa0JBQWtCLEVBQUU7SUFBRUMsUUFBUSxFQUFFO0VBQVUsQ0FBQyxDQUFDLEVBQzdDLGtCQUFrQixFQUNsQixZQUFZO0FBRWhCLENBQUMifQ==","map":{"version":3,"names":["module","exports","sourceType","allowImportExportEverywhere","allowReturnOutsideFunction","startLine","tokens","plugins","proposal"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/jscodeshift/parser/","sources":["tsOptions.js"],"sourcesContent":["\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Options shared by the TypeScript and TSX parsers.\n */\nmodule.exports = {\n  sourceType: 'module',\n  allowImportExportEverywhere: true,\n  allowReturnOutsideFunction: true,\n  startLine: 1,\n  tokens: true,\n  plugins: [\n    'asyncGenerators',\n    'bigInt',\n    'classPrivateMethods',\n    'classPrivateProperties',\n    'classProperties',\n    'decorators-legacy',\n    'doExpressions',\n    'dynamicImport',\n    'exportDefaultFrom',\n    'exportExtensions',\n    'exportNamespaceFrom',\n    'functionBind',\n    'functionSent',\n    'importMeta',\n    'nullishCoalescingOperator',\n    'numericSeparator',\n    'objectRestSpread',\n    'optionalCatchBinding',\n    'optionalChaining',\n    ['pipelineOperator', { proposal: 'minimal' }],\n    'throwExpressions',\n    'typescript'\n  ],\n};\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AACAA,MAAM,CAACC,OAAO,GAAG;EACfC,UAAU,EAAE,QAAQ;EACpBC,2BAA2B,EAAE,IAAI;EACjCC,0BAA0B,EAAE,IAAI;EAChCC,SAAS,EAAE,CAAC;EACZC,MAAM,EAAE,IAAI;EACZC,OAAO,EAAE,CACP,iBAAiB,EACjB,QAAQ,EACR,qBAAqB,EACrB,wBAAwB,EACxB,iBAAiB,EACjB,mBAAmB,EACnB,eAAe,EACf,eAAe,EACf,mBAAmB,EACnB,kBAAkB,EAClB,qBAAqB,EACrB,cAAc,EACd,cAAc,EACd,YAAY,EACZ,2BAA2B,EAC3B,kBAAkB,EAClB,kBAAkB,EAClB,sBAAsB,EACtB,kBAAkB,EAClB,CAAC,kBAAkB,EAAE;IAAEC,QAAQ,EAAE;EAAU,CAAC,CAAC,EAC7C,kBAAkB,EAClB,YAAY;AAEhB,CAAC"}},"mtime":1688594536103},"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/name-default-component.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst path_1 = require(\"path\");\nconst camelCase = value => {\n  const val = value.replace(/[-_\\s.]+(.)?/g, (_match, chr) => chr ? chr.toUpperCase() : '');\n  return val.slice(0, 1).toUpperCase() + val.slice(1);\n};\nconst isValidIdentifier = value => /^[a-zA-ZÀ-ÿ][0-9a-zA-ZÀ-ÿ]+$/.test(value);\nfunction transformer(file, api, options) {\n  const j = api.jscodeshift.withParser('tsx');\n  const root = j(file.source);\n  let hasModifications;\n  const returnsJSX = node => node.type === 'JSXElement' || node.type === 'BlockStatement' && j(node).find(j.ReturnStatement).some(path => {\n    var _a;\n    return ((_a = path.value.argument) === null || _a === void 0 ? void 0 : _a.type) === 'JSXElement';\n  });\n  const hasRootAsParent = path => {\n    var _a;\n    const program = path.parentPath.parentPath.parentPath.parentPath.parentPath;\n    return !program || ((_a = program === null || program === void 0 ? void 0 : program.value) === null || _a === void 0 ? void 0 : _a.type) === 'Program';\n  };\n  const nameFunctionComponent = path => {\n    const node = path.value;\n    if (!node.declaration) {\n      return;\n    }\n    const isArrowFunction = node.declaration.type === 'ArrowFunctionExpression' && returnsJSX(node.declaration.body);\n    const isAnonymousFunction = node.declaration.type === 'FunctionDeclaration' && !node.declaration.id;\n    if (!(isArrowFunction || isAnonymousFunction)) {\n      return;\n    }\n    const fileName = (0, path_1.basename)(file.path, (0, path_1.extname)(file.path));\n    let name = camelCase(fileName);\n    // If the generated name looks off, don't add a name\n    if (!isValidIdentifier(name)) {\n      return;\n    }\n    // Add `Component` to the end of the name if an identifier with the\n    // same name already exists\n    while (root.find(j.Identifier, {\n      name\n    }).some(hasRootAsParent)) {\n      // If the name is still duplicated then don't add a name\n      if (name.endsWith('Component')) {\n        return;\n      }\n      name += 'Component';\n    }\n    hasModifications = true;\n    if (isArrowFunction) {\n      path.insertBefore(j.variableDeclaration('const', [j.variableDeclarator(j.identifier(name), node.declaration)]));\n      node.declaration = j.identifier(name);\n    } else {\n      // Anonymous Function\n      ;\n      node.declaration.id = j.identifier(name);\n    }\n  };\n  root.find(j.ExportDefaultDeclaration).forEach(nameFunctionComponent);\n  return hasModifications ? root.toSource(options) : null;\n}\nexports.default = transformer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInBhdGhfMSIsInJlcXVpcmUiLCJjYW1lbENhc2UiLCJ2YWwiLCJyZXBsYWNlIiwiX21hdGNoIiwiY2hyIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImlzVmFsaWRJZGVudGlmaWVyIiwidGVzdCIsInRyYW5zZm9ybWVyIiwiZmlsZSIsImFwaSIsIm9wdGlvbnMiLCJqIiwianNjb2Rlc2hpZnQiLCJ3aXRoUGFyc2VyIiwicm9vdCIsInNvdXJjZSIsImhhc01vZGlmaWNhdGlvbnMiLCJyZXR1cm5zSlNYIiwibm9kZSIsInR5cGUiLCJmaW5kIiwiUmV0dXJuU3RhdGVtZW50Iiwic29tZSIsInBhdGgiLCJfYSIsImFyZ3VtZW50IiwiaGFzUm9vdEFzUGFyZW50IiwicHJvZ3JhbSIsInBhcmVudFBhdGgiLCJuYW1lRnVuY3Rpb25Db21wb25lbnQiLCJkZWNsYXJhdGlvbiIsImlzQXJyb3dGdW5jdGlvbiIsImJvZHkiLCJpc0Fub255bW91c0Z1bmN0aW9uIiwiaWQiLCJmaWxlTmFtZSIsImJhc2VuYW1lIiwiZXh0bmFtZSIsIm5hbWUiLCJJZGVudGlmaWVyIiwiZW5kc1dpdGgiLCJpbnNlcnRCZWZvcmUiLCJ2YXJpYWJsZURlY2xhcmF0aW9uIiwidmFyaWFibGVEZWNsYXJhdG9yIiwiaWRlbnRpZmllciIsIkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbiIsImZvckVhY2giLCJ0b1NvdXJjZSIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy93ZWlyYW5saS8ubnBtL19ucHgvYTBkYzc0NjVhZWZiNTRmOS9ub2RlX21vZHVsZXMvQG5leHQvY29kZW1vZC90cmFuc2Zvcm1zLyIsInNvdXJjZXMiOlsibmFtZS1kZWZhdWx0LWNvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBhdGhfMSA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgY2FtZWxDYXNlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgdmFsID0gdmFsdWUucmVwbGFjZSgvWy1fXFxzLl0rKC4pPy9nLCAoX21hdGNoLCBjaHIpID0+IGNociA/IGNoci50b1VwcGVyQ2FzZSgpIDogJycpO1xuICAgIHJldHVybiB2YWwuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHZhbC5zbGljZSgxKTtcbn07XG5jb25zdCBpc1ZhbGlkSWRlbnRpZmllciA9ICh2YWx1ZSkgPT4gL15bYS16QS1aw4Atw79dWzAtOWEtekEtWsOALcO/XSskLy50ZXN0KHZhbHVlKTtcbmZ1bmN0aW9uIHRyYW5zZm9ybWVyKGZpbGUsIGFwaSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGogPSBhcGkuanNjb2Rlc2hpZnQud2l0aFBhcnNlcigndHN4Jyk7XG4gICAgY29uc3Qgcm9vdCA9IGooZmlsZS5zb3VyY2UpO1xuICAgIGxldCBoYXNNb2RpZmljYXRpb25zO1xuICAgIGNvbnN0IHJldHVybnNKU1ggPSAobm9kZSkgPT4gbm9kZS50eXBlID09PSAnSlNYRWxlbWVudCcgfHxcbiAgICAgICAgKG5vZGUudHlwZSA9PT0gJ0Jsb2NrU3RhdGVtZW50JyAmJlxuICAgICAgICAgICAgaihub2RlKVxuICAgICAgICAgICAgICAgIC5maW5kKGouUmV0dXJuU3RhdGVtZW50KVxuICAgICAgICAgICAgICAgIC5zb21lKChwYXRoKSA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSBwYXRoLnZhbHVlLmFyZ3VtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZSkgPT09ICdKU1hFbGVtZW50JzsgfSkpO1xuICAgIGNvbnN0IGhhc1Jvb3RBc1BhcmVudCA9IChwYXRoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhdGgucGFyZW50UGF0aC5wYXJlbnRQYXRoLnBhcmVudFBhdGgucGFyZW50UGF0aC5wYXJlbnRQYXRoO1xuICAgICAgICByZXR1cm4gIXByb2dyYW0gfHwgKChfYSA9IHByb2dyYW0gPT09IG51bGwgfHwgcHJvZ3JhbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvZ3JhbS52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnR5cGUpID09PSAnUHJvZ3JhbSc7XG4gICAgfTtcbiAgICBjb25zdCBuYW1lRnVuY3Rpb25Db21wb25lbnQgPSAocGF0aCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlID0gcGF0aC52YWx1ZTtcbiAgICAgICAgaWYgKCFub2RlLmRlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNBcnJvd0Z1bmN0aW9uID0gbm9kZS5kZWNsYXJhdGlvbi50eXBlID09PSAnQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24nICYmXG4gICAgICAgICAgICByZXR1cm5zSlNYKG5vZGUuZGVjbGFyYXRpb24uYm9keSk7XG4gICAgICAgIGNvbnN0IGlzQW5vbnltb3VzRnVuY3Rpb24gPSBub2RlLmRlY2xhcmF0aW9uLnR5cGUgPT09ICdGdW5jdGlvbkRlY2xhcmF0aW9uJyAmJiAhbm9kZS5kZWNsYXJhdGlvbi5pZDtcbiAgICAgICAgaWYgKCEoaXNBcnJvd0Z1bmN0aW9uIHx8IGlzQW5vbnltb3VzRnVuY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSAoMCwgcGF0aF8xLmJhc2VuYW1lKShmaWxlLnBhdGgsICgwLCBwYXRoXzEuZXh0bmFtZSkoZmlsZS5wYXRoKSk7XG4gICAgICAgIGxldCBuYW1lID0gY2FtZWxDYXNlKGZpbGVOYW1lKTtcbiAgICAgICAgLy8gSWYgdGhlIGdlbmVyYXRlZCBuYW1lIGxvb2tzIG9mZiwgZG9uJ3QgYWRkIGEgbmFtZVxuICAgICAgICBpZiAoIWlzVmFsaWRJZGVudGlmaWVyKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGBDb21wb25lbnRgIHRvIHRoZSBlbmQgb2YgdGhlIG5hbWUgaWYgYW4gaWRlbnRpZmllciB3aXRoIHRoZVxuICAgICAgICAvLyBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgd2hpbGUgKHJvb3QuZmluZChqLklkZW50aWZpZXIsIHsgbmFtZSB9KS5zb21lKGhhc1Jvb3RBc1BhcmVudCkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBuYW1lIGlzIHN0aWxsIGR1cGxpY2F0ZWQgdGhlbiBkb24ndCBhZGQgYSBuYW1lXG4gICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aCgnQ29tcG9uZW50JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lICs9ICdDb21wb25lbnQnO1xuICAgICAgICB9XG4gICAgICAgIGhhc01vZGlmaWNhdGlvbnMgPSB0cnVlO1xuICAgICAgICBpZiAoaXNBcnJvd0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICBwYXRoLmluc2VydEJlZm9yZShqLnZhcmlhYmxlRGVjbGFyYXRpb24oJ2NvbnN0JywgW1xuICAgICAgICAgICAgICAgIGoudmFyaWFibGVEZWNsYXJhdG9yKGouaWRlbnRpZmllcihuYW1lKSwgbm9kZS5kZWNsYXJhdGlvbiksXG4gICAgICAgICAgICBdKSk7XG4gICAgICAgICAgICBub2RlLmRlY2xhcmF0aW9uID0gai5pZGVudGlmaWVyKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQW5vbnltb3VzIEZ1bmN0aW9uXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBub2RlLmRlY2xhcmF0aW9uLmlkID0gai5pZGVudGlmaWVyKG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByb290LmZpbmQoai5FeHBvcnREZWZhdWx0RGVjbGFyYXRpb24pLmZvckVhY2gobmFtZUZ1bmN0aW9uQ29tcG9uZW50KTtcbiAgICByZXR1cm4gaGFzTW9kaWZpY2F0aW9ucyA/IHJvb3QudG9Tb3VyY2Uob3B0aW9ucykgOiBudWxsO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYW1lLWRlZmF1bHQtY29tcG9uZW50LmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzdELE1BQU1DLE1BQU0sR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM5QixNQUFNQyxTQUFTLEdBQUlILEtBQUssSUFBSztFQUN6QixNQUFNSSxHQUFHLEdBQUdKLEtBQUssQ0FBQ0ssT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDQyxNQUFNLEVBQUVDLEdBQUcsS0FBS0EsR0FBRyxHQUFHQSxHQUFHLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0VBQ3pGLE9BQU9KLEdBQUcsQ0FBQ0ssS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQ0QsV0FBVyxDQUFDLENBQUMsR0FBR0osR0FBRyxDQUFDSyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELENBQUM7QUFDRCxNQUFNQyxpQkFBaUIsR0FBSVYsS0FBSyxJQUFLLDhCQUE4QixDQUFDVyxJQUFJLENBQUNYLEtBQUssQ0FBQztBQUMvRSxTQUFTWSxXQUFXQSxDQUFDQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO0VBQ3JDLE1BQU1DLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxXQUFXLENBQUNDLFVBQVUsQ0FBQyxLQUFLLENBQUM7RUFDM0MsTUFBTUMsSUFBSSxHQUFHSCxDQUFDLENBQUNILElBQUksQ0FBQ08sTUFBTSxDQUFDO0VBQzNC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","map":{"version":3,"names":["Object","defineProperty","exports","value","path_1","require","camelCase","val","replace","_match","chr","toUpperCase","slice","isValidIdentifier","test","transformer","file","api","options","j","jscodeshift","withParser","root","source","hasModifications","returnsJSX","node","type","find","ReturnStatement","some","path","_a","argument","hasRootAsParent","program","parentPath","nameFunctionComponent","declaration","isArrowFunction","body","isAnonymousFunction","id","fileName","basename","extname","name","Identifier","endsWith","insertBefore","variableDeclaration","variableDeclarator","identifier","ExportDefaultDeclaration","forEach","toSource","default"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/","sources":["name-default-component.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = require(\"path\");\nconst camelCase = (value) => {\n    const val = value.replace(/[-_\\s.]+(.)?/g, (_match, chr) => chr ? chr.toUpperCase() : '');\n    return val.slice(0, 1).toUpperCase() + val.slice(1);\n};\nconst isValidIdentifier = (value) => /^[a-zA-ZÀ-ÿ][0-9a-zA-ZÀ-ÿ]+$/.test(value);\nfunction transformer(file, api, options) {\n    const j = api.jscodeshift.withParser('tsx');\n    const root = j(file.source);\n    let hasModifications;\n    const returnsJSX = (node) => node.type === 'JSXElement' ||\n        (node.type === 'BlockStatement' &&\n            j(node)\n                .find(j.ReturnStatement)\n                .some((path) => { var _a; return ((_a = path.value.argument) === null || _a === void 0 ? void 0 : _a.type) === 'JSXElement'; }));\n    const hasRootAsParent = (path) => {\n        var _a;\n        const program = path.parentPath.parentPath.parentPath.parentPath.parentPath;\n        return !program || ((_a = program === null || program === void 0 ? void 0 : program.value) === null || _a === void 0 ? void 0 : _a.type) === 'Program';\n    };\n    const nameFunctionComponent = (path) => {\n        const node = path.value;\n        if (!node.declaration) {\n            return;\n        }\n        const isArrowFunction = node.declaration.type === 'ArrowFunctionExpression' &&\n            returnsJSX(node.declaration.body);\n        const isAnonymousFunction = node.declaration.type === 'FunctionDeclaration' && !node.declaration.id;\n        if (!(isArrowFunction || isAnonymousFunction)) {\n            return;\n        }\n        const fileName = (0, path_1.basename)(file.path, (0, path_1.extname)(file.path));\n        let name = camelCase(fileName);\n        // If the generated name looks off, don't add a name\n        if (!isValidIdentifier(name)) {\n            return;\n        }\n        // Add `Component` to the end of the name if an identifier with the\n        // same name already exists\n        while (root.find(j.Identifier, { name }).some(hasRootAsParent)) {\n            // If the name is still duplicated then don't add a name\n            if (name.endsWith('Component')) {\n                return;\n            }\n            name += 'Component';\n        }\n        hasModifications = true;\n        if (isArrowFunction) {\n            path.insertBefore(j.variableDeclaration('const', [\n                j.variableDeclarator(j.identifier(name), node.declaration),\n            ]));\n            node.declaration = j.identifier(name);\n        }\n        else {\n            // Anonymous Function\n            ;\n            node.declaration.id = j.identifier(name);\n        }\n    };\n    root.find(j.ExportDefaultDeclaration).forEach(nameFunctionComponent);\n    return hasModifications ? root.toSource(options) : null;\n}\nexports.default = transformer;\n//# sourceMappingURL=name-default-component.js.map"],"mappings":"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"}},"mtime":1688594536251},"{\"assumptions\":{},\"sourceRoot\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"filename\":\"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/add-missing-react-import.js\",\"targets\":{},\"cloneInputAst\":true,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/private/var/folders/b4/nfmp_93x3b51md9m_8mh43g40000gn/T/second-repos/kotiya/next-js-12\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"EnumDeclaration\":{\"enter\":[null]},\"EnumBooleanBody\":{\"enter\":[null]},\"EnumNumberBody\":{\"enter\":[null]},\"EnumStringBody\":{\"enter\":[null]},\"EnumSymbolBody\":{\"enter\":[null]},\"EnumBooleanMember\":{\"enter\":[null]},\"EnumNumberMember\":{\"enter\":[null]},\"EnumStringMember\":{\"enter\":[null]},\"EnumDefaultedMember\":{\"enter\":[null]},\"IndexedAccessType\":{\"enter\":[null]},\"OptionalIndexedAccessType\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction addReactImport(j, root) {\n  // We create an import specifier, this is the value of an import, eg:\n  // import React from 'react'\n  // The specifier would be `React`\n  const ReactDefaultSpecifier = j.importDefaultSpecifier(j.identifier('React'));\n  // Check if this file is already importing `react`\n  // so that we can attach `React` to the existing import instead of creating a new `import` node\n  const originalReactImport = root.find(j.ImportDeclaration, {\n    source: {\n      value: 'react'\n    }\n  });\n  if (originalReactImport.length > 0) {\n    // Check if `React` is already imported. In that case we don't have to do anything\n    if (originalReactImport.find(j.ImportDefaultSpecifier).length > 0) {\n      return;\n    }\n    // Attach `React` to the existing `react` import node\n    originalReactImport.forEach(node => {\n      node.value.specifiers.unshift(ReactDefaultSpecifier);\n    });\n    return;\n  }\n  // Create import node\n  // import React from 'react'\n  const ReactImport = j.importDeclaration([ReactDefaultSpecifier], j.stringLiteral('react'));\n  // Find the Program, this is the top level AST node\n  const Program = root.find(j.Program);\n  // Attach the import at the top of the body\n  Program.forEach(node => {\n    node.value.body.unshift(ReactImport);\n  });\n}\nfunction transformer(file, api, options) {\n  const j = api.jscodeshift.withParser('tsx');\n  const root = j(file.source);\n  const hasReactImport = r => {\n    return r.find(j.ImportDefaultSpecifier, {\n      local: {\n        type: 'Identifier',\n        name: 'React'\n      }\n    }).length > 0;\n  };\n  const hasReactVariableUsage = r => {\n    return r.find(j.MemberExpression, {\n      object: {\n        type: 'Identifier',\n        name: 'React'\n      }\n    }).length > 0;\n  };\n  if (hasReactImport(root)) {\n    return;\n  }\n  if (hasReactVariableUsage(root)) {\n    addReactImport(j, root);\n  }\n  return root.toSource(options);\n}\nexports.default = transformer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkZFJlYWN0SW1wb3J0IiwiaiIsInJvb3QiLCJSZWFjdERlZmF1bHRTcGVjaWZpZXIiLCJpbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiaWRlbnRpZmllciIsIm9yaWdpbmFsUmVhY3RJbXBvcnQiLCJmaW5kIiwiSW1wb3J0RGVjbGFyYXRpb24iLCJzb3VyY2UiLCJsZW5ndGgiLCJJbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiZm9yRWFjaCIsIm5vZGUiLCJzcGVjaWZpZXJzIiwidW5zaGlmdCIsIlJlYWN0SW1wb3J0IiwiaW1wb3J0RGVjbGFyYXRpb24iLCJzdHJpbmdMaXRlcmFsIiwiUHJvZ3JhbSIsImJvZHkiLCJ0cmFuc2Zvcm1lciIsImZpbGUiLCJhcGkiLCJvcHRpb25zIiwianNjb2Rlc2hpZnQiLCJ3aXRoUGFyc2VyIiwiaGFzUmVhY3RJbXBvcnQiLCJyIiwibG9jYWwiLCJ0eXBlIiwibmFtZSIsImhhc1JlYWN0VmFyaWFibGVVc2FnZSIsIk1lbWJlckV4cHJlc3Npb24iLCJvYmplY3QiLCJ0b1NvdXJjZSIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy93ZWlyYW5saS8ubnBtL19ucHgvYTBkYzc0NjVhZWZiNTRmOS9ub2RlX21vZHVsZXMvQG5leHQvY29kZW1vZC90cmFuc2Zvcm1zLyIsInNvdXJjZXMiOlsiYWRkLW1pc3NpbmctcmVhY3QtaW1wb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gYWRkUmVhY3RJbXBvcnQoaiwgcm9vdCkge1xuICAgIC8vIFdlIGNyZWF0ZSBhbiBpbXBvcnQgc3BlY2lmaWVyLCB0aGlzIGlzIHRoZSB2YWx1ZSBvZiBhbiBpbXBvcnQsIGVnOlxuICAgIC8vIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbiAgICAvLyBUaGUgc3BlY2lmaWVyIHdvdWxkIGJlIGBSZWFjdGBcbiAgICBjb25zdCBSZWFjdERlZmF1bHRTcGVjaWZpZXIgPSBqLmltcG9ydERlZmF1bHRTcGVjaWZpZXIoai5pZGVudGlmaWVyKCdSZWFjdCcpKTtcbiAgICAvLyBDaGVjayBpZiB0aGlzIGZpbGUgaXMgYWxyZWFkeSBpbXBvcnRpbmcgYHJlYWN0YFxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIGF0dGFjaCBgUmVhY3RgIHRvIHRoZSBleGlzdGluZyBpbXBvcnQgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBgaW1wb3J0YCBub2RlXG4gICAgY29uc3Qgb3JpZ2luYWxSZWFjdEltcG9ydCA9IHJvb3QuZmluZChqLkltcG9ydERlY2xhcmF0aW9uLCB7XG4gICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgdmFsdWU6ICdyZWFjdCcsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKG9yaWdpbmFsUmVhY3RJbXBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBDaGVjayBpZiBgUmVhY3RgIGlzIGFscmVhZHkgaW1wb3J0ZWQuIEluIHRoYXQgY2FzZSB3ZSBkb24ndCBoYXZlIHRvIGRvIGFueXRoaW5nXG4gICAgICAgIGlmIChvcmlnaW5hbFJlYWN0SW1wb3J0LmZpbmQoai5JbXBvcnREZWZhdWx0U3BlY2lmaWVyKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIGBSZWFjdGAgdG8gdGhlIGV4aXN0aW5nIGByZWFjdGAgaW1wb3J0IG5vZGVcbiAgICAgICAgb3JpZ2luYWxSZWFjdEltcG9ydC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2RlLnZhbHVlLnNwZWNpZmllcnMudW5zaGlmdChSZWFjdERlZmF1bHRTcGVjaWZpZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgaW1wb3J0IG5vZGVcbiAgICAvLyBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4gICAgY29uc3QgUmVhY3RJbXBvcnQgPSBqLmltcG9ydERlY2xhcmF0aW9uKFtSZWFjdERlZmF1bHRTcGVjaWZpZXJdLCBqLnN0cmluZ0xpdGVyYWwoJ3JlYWN0JykpO1xuICAgIC8vIEZpbmQgdGhlIFByb2dyYW0sIHRoaXMgaXMgdGhlIHRvcCBsZXZlbCBBU1Qgbm9kZVxuICAgIGNvbnN0IFByb2dyYW0gPSByb290LmZpbmQoai5Qcm9ncmFtKTtcbiAgICAvLyBBdHRhY2ggdGhlIGltcG9ydCBhdCB0aGUgdG9wIG9mIHRoZSBib2R5XG4gICAgUHJvZ3JhbS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUudmFsdWUuYm9keS51bnNoaWZ0KFJlYWN0SW1wb3J0KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybWVyKGZpbGUsIGFwaSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGogPSBhcGkuanNjb2Rlc2hpZnQud2l0aFBhcnNlcigndHN4Jyk7XG4gICAgY29uc3Qgcm9vdCA9IGooZmlsZS5zb3VyY2UpO1xuICAgIGNvbnN0IGhhc1JlYWN0SW1wb3J0ID0gKHIpID0+IHtcbiAgICAgICAgcmV0dXJuIChyLmZpbmQoai5JbXBvcnREZWZhdWx0U3BlY2lmaWVyLCB7XG4gICAgICAgICAgICBsb2NhbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdJZGVudGlmaWVyJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUmVhY3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkubGVuZ3RoID4gMCk7XG4gICAgfTtcbiAgICBjb25zdCBoYXNSZWFjdFZhcmlhYmxlVXNhZ2UgPSAocikgPT4ge1xuICAgICAgICByZXR1cm4gKHIuZmluZChqLk1lbWJlckV4cHJlc3Npb24sIHtcbiAgICAgICAgICAgIG9iamVjdDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdJZGVudGlmaWVyJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUmVhY3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkubGVuZ3RoID4gMCk7XG4gICAgfTtcbiAgICBpZiAoaGFzUmVhY3RJbXBvcnQocm9vdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGFzUmVhY3RWYXJpYWJsZVVzYWdlKHJvb3QpKSB7XG4gICAgICAgIGFkZFJlYWN0SW1wb3J0KGosIHJvb3QpO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdC50b1NvdXJjZShvcHRpb25zKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHRyYW5zZm9ybWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkLW1pc3NpbmctcmVhY3QtaW1wb3J0LmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzdELFNBQVNDLGNBQWNBLENBQUNDLENBQUMsRUFBRUMsSUFBSSxFQUFFO0VBQzdCO0VBQ0E7RUFDQTtFQUNBLE1BQU1DLHFCQUFxQixHQUFHRixDQUFDLENBQUNHLHNCQUFzQixDQUFDSCxDQUFDLENBQUNJLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztFQUM3RTtFQUNBO0VBQ0EsTUFBTUMsbUJBQW1CLEdBQUdKLElBQUksQ0FBQ0ssSUFBSSxDQUFDTixDQUFDLENBQUNPLGlCQUFpQixFQUFFO0lBQ3ZEQyxNQUFNLEVBQUU7TUFDSlYsS0FBSyxFQUFFO0lBQ1g7RUFDSixDQUFDLENBQUM7RUFDRixJQUFJTyxtQkFBbUIsQ0FBQ0ksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUNoQztJQUNBLElBQUlKLG1CQUFtQixDQUFDQyxJQUFJLENBQUNOLENBQUMsQ0FBQ1Usc0JBQXNCLENBQUMsQ0FBQ0QsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUMvRDtJQUNKO0lBQ0E7SUFDQUosbUJBQW1CLENBQUNNLE9BQU8sQ0FBRUMsSUFBSSxJQUFLO01BQ2xDQSxJQUFJLENBQUNkLEtBQUssQ0FBQ2UsVUFBVSxDQUFDQyxPQUFPLENBQUNaLHFCQUFxQixDQUFDO0lBQ3hELENBQUMsQ0FBQztJQUNGO0VBQ0o7RUFDQTtFQUNBO0VBQ0EsTUFBTWEsV0FBVyxHQUFHZixDQUFDLENBQUNnQixpQkFBaUIsQ0FBQyxDQUFDZCxxQkFBcUIsQ0FBQyxFQUFFRixDQUFDLENBQUNpQixhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7RUFDMUY7RUFDQSxNQUFNQyxPQUFPLEdBQUdqQixJQUFJLENBQUNLLElBQUksQ0FBQ04sQ0FBQyxDQUFDa0IsT0FBTyxDQUFDO0VBQ3BDO0VBQ0FBLE9BQU8sQ0FBQ1AsT0FBTyxDQUFFQyxJQUFJLElBQUs7SUFDdEJBLElBQUksQ0FBQ2QsS0FBSyxDQUFDcUIsSUFBSSxDQUFDTCxPQUFPLENBQUNDLFdBQVcsQ0FBQztFQUN4QyxDQUFDLENBQUM7QUFDTjtBQUNBLFNBQVNLLFdBQVdBLENBQUNDLElBQUksRUFBRUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7RUFDckMsTUFBTXZCLENBQUMsR0FBR3NCLEdBQUcsQ0FBQ0UsV0FBVyxDQUFDQyxVQUFVLENBQUMsS0FBSyxDQUFDO0VBQzNDLE1BQU14QixJQUFJLEdBQUdELENBQUMsQ0FBQ3FCLElBQUksQ0FBQ2IsTUFBTSxDQUFDO0VBQzNCLE1BQU1rQixjQUFjLEdBQUlDLENBQUMsSUFBSztJQUMxQixPQUFRQSxDQUFDLENBQUNyQixJQUFJLENBQUNOLENBQUMsQ0FBQ1Usc0JBQXNCLEVBQUU7TUFDckNrQixLQUFLLEVBQUU7UUFDSEMsSUFBSSxFQUFFLFlBQVk7UUFDbEJDLElBQUksRUFBRTtNQUNWO0lBQ0osQ0FBQyxDQUFDLENBQUNyQixNQUFNLEdBQUcsQ0FBQztFQUNqQixDQUFDO0VBQ0QsTUFBTXNCLHFCQUFxQixHQUFJSixDQUFDLElBQUs7SUFDakMsT0FBUUEsQ0FBQyxDQUFDckIsSUFBSSxDQUFDTixDQUFDLENBQUNnQyxnQkFBZ0IsRUFBRTtNQUMvQkMsTUFBTSxFQUFFO1FBQ0pKLElBQUksRUFBRSxZQUFZO1FBQ2xCQyxJQUFJLEVBQUU7TUFDVjtJQUNKLENBQUMsQ0FBQyxDQUFDckIsTUFBTSxHQUFHLENBQUM7RUFDakIsQ0FBQztFQUNELElBQUlpQixjQUFjLENBQUN6QixJQUFJLENBQUMsRUFBRTtJQUN0QjtFQUNKO0VBQ0EsSUFBSThCLHFCQUFxQixDQUFDOUIsSUFBSSxDQUFDLEVBQUU7SUFDN0JGLGNBQWMsQ0FBQ0MsQ0FBQyxFQUFFQyxJQUFJLENBQUM7RUFDM0I7RUFDQSxPQUFPQSxJQUFJLENBQUNpQyxRQUFRLENBQUNYLE9BQU8sQ0FBQztBQUNqQztBQUNBMUIsT0FBTyxDQUFDc0MsT0FBTyxHQUFHZixXQUFXIn0=","map":{"version":3,"names":["Object","defineProperty","exports","value","addReactImport","j","root","ReactDefaultSpecifier","importDefaultSpecifier","identifier","originalReactImport","find","ImportDeclaration","source","length","ImportDefaultSpecifier","forEach","node","specifiers","unshift","ReactImport","importDeclaration","stringLiteral","Program","body","transformer","file","api","options","jscodeshift","withParser","hasReactImport","r","local","type","name","hasReactVariableUsage","MemberExpression","object","toSource","default"],"sourceRoot":"/Users/weiranli/.npm/_npx/a0dc7465aefb54f9/node_modules/@next/codemod/transforms/","sources":["add-missing-react-import.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addReactImport(j, root) {\n    // We create an import specifier, this is the value of an import, eg:\n    // import React from 'react'\n    // The specifier would be `React`\n    const ReactDefaultSpecifier = j.importDefaultSpecifier(j.identifier('React'));\n    // Check if this file is already importing `react`\n    // so that we can attach `React` to the existing import instead of creating a new `import` node\n    const originalReactImport = root.find(j.ImportDeclaration, {\n        source: {\n            value: 'react',\n        },\n    });\n    if (originalReactImport.length > 0) {\n        // Check if `React` is already imported. In that case we don't have to do anything\n        if (originalReactImport.find(j.ImportDefaultSpecifier).length > 0) {\n            return;\n        }\n        // Attach `React` to the existing `react` import node\n        originalReactImport.forEach((node) => {\n            node.value.specifiers.unshift(ReactDefaultSpecifier);\n        });\n        return;\n    }\n    // Create import node\n    // import React from 'react'\n    const ReactImport = j.importDeclaration([ReactDefaultSpecifier], j.stringLiteral('react'));\n    // Find the Program, this is the top level AST node\n    const Program = root.find(j.Program);\n    // Attach the import at the top of the body\n    Program.forEach((node) => {\n        node.value.body.unshift(ReactImport);\n    });\n}\nfunction transformer(file, api, options) {\n    const j = api.jscodeshift.withParser('tsx');\n    const root = j(file.source);\n    const hasReactImport = (r) => {\n        return (r.find(j.ImportDefaultSpecifier, {\n            local: {\n                type: 'Identifier',\n                name: 'React',\n            },\n        }).length > 0);\n    };\n    const hasReactVariableUsage = (r) => {\n        return (r.find(j.MemberExpression, {\n            object: {\n                type: 'Identifier',\n                name: 'React',\n            },\n        }).length > 0);\n    };\n    if (hasReactImport(root)) {\n        return;\n    }\n    if (hasReactVariableUsage(root)) {\n        addReactImport(j, root);\n    }\n    return root.toSource(options);\n}\nexports.default = transformer;\n//# sourceMappingURL=add-missing-react-import.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,SAASC,cAAcA,CAACC,CAAC,EAAEC,IAAI,EAAE;EAC7B;EACA;EACA;EACA,MAAMC,qBAAqB,GAAGF,CAAC,CAACG,sBAAsB,CAACH,CAAC,CAACI,UAAU,CAAC,OAAO,CAAC,CAAC;EAC7E;EACA;EACA,MAAMC,mBAAmB,GAAGJ,IAAI,CAACK,IAAI,CAACN,CAAC,CAACO,iBAAiB,EAAE;IACvDC,MAAM,EAAE;MACJV,KAAK,EAAE;IACX;EACJ,CAAC,CAAC;EACF,IAAIO,mBAAmB,CAACI,MAAM,GAAG,CAAC,EAAE;IAChC;IACA,IAAIJ,mBAAmB,CAACC,IAAI,CAACN,CAAC,CAACU,sBAAsB,CAAC,CAACD,MAAM,GAAG,CAAC,EAAE;MAC/D;IACJ;IACA;IACAJ,mBAAmB,CAACM,OAAO,CAAEC,IAAI,IAAK;MAClCA,IAAI,CAACd,KAAK,CAACe,UAAU,CAACC,OAAO,CAACZ,qBAAqB,CAAC;IACxD,CAAC,CAAC;IACF;EACJ;EACA;EACA;EACA,MAAMa,WAAW,GAAGf,CAAC,CAACgB,iBAAiB,CAAC,CAACd,qBAAqB,CAAC,EAAEF,CAAC,CAACiB,aAAa,CAAC,OAAO,CAAC,CAAC;EAC1F;EACA,MAAMC,OAAO,GAAGjB,IAAI,CAACK,IAAI,CAACN,CAAC,CAACkB,OAAO,CAAC;EACpC;EACAA,OAAO,CAACP,OAAO,CAAEC,IAAI,IAAK;IACtBA,IAAI,CAACd,KAAK,CAACqB,IAAI,CAACL,OAAO,CAACC,WAAW,CAAC;EACxC,CAAC,CAAC;AACN;AACA,SAASK,WAAWA,CAACC,IAAI,EAAEC,GAAG,EAAEC,OAAO,EAAE;EACrC,MAAMvB,CAAC,GAAGsB,GAAG,CAACE,WAAW,CAACC,UAAU,CAAC,KAAK,CAAC;EAC3C,MAAMxB,IAAI,GAAGD,CAAC,CAACqB,IAAI,CAACb,MAAM,CAAC;EAC3B,MAAMkB,cAAc,GAAIC,CAAC,IAAK;IAC1B,OAAQA,CAAC,CAACrB,IAAI,CAACN,CAAC,CAACU,sBAAsB,EAAE;MACrCkB,KAAK,EAAE;QACHC,IAAI,EAAE,YAAY;QAClBC,IAAI,EAAE;MACV;IACJ,CAAC,CAAC,CAACrB,MAAM,GAAG,CAAC;EACjB,CAAC;EACD,MAAMsB,qBAAqB,GAAIJ,CAAC,IAAK;IACjC,OAAQA,CAAC,CAACrB,IAAI,CAACN,CAAC,CAACgC,gBAAgB,EAAE;MAC/BC,MAAM,EAAE;QACJJ,IAAI,EAAE,YAAY;QAClBC,IAAI,EAAE;MACV;IACJ,CAAC,CAAC,CAACrB,MAAM,GAAG,CAAC;EACjB,CAAC;EACD,IAAIiB,cAAc,CAACzB,IAAI,CAAC,EAAE;IACtB;EACJ;EACA,IAAI8B,qBAAqB,CAAC9B,IAAI,CAAC,EAAE;IAC7BF,cAAc,CAACC,CAAC,EAAEC,IAAI,CAAC;EAC3B;EACA,OAAOA,IAAI,CAACiC,QAAQ,CAACX,OAAO,CAAC;AACjC;AACA1B,OAAO,CAACsC,OAAO,GAAGf,WAAW"}},"mtime":1688594536251}}